<html lang="en"><head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ä¼šåŠ¡ç³»ç»Ÿ</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- å¾®ä¿¡JS-SDK -->
    <script src="https://res.wx.qq.com/open/js/jweixin-1.6.0.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/lucide@0.544.0/dist/umd/lucide.min.js"></script>
    <!-- ä½¿ç”¨å¤šä¸ªCDNæºä½œä¸ºå¤‡é€‰ï¼Œä¼˜å…ˆä½¿ç”¨æ›´å¿«çš„æº -->
    <script src="https://cdn.jsdelivr.net/npm/leancloud-storage@4.13.0/dist/av-min.js" id="leancloud-sdk"></script>
    <script>
        // å¤‡ç”¨CDNæºï¼Œå½“ä¸»CDNåŠ è½½å¤±è´¥æ—¶ä½¿ç”¨
        const backupCDNs = [
            'https://unpkg.com/leancloud-storage@4.13.0/dist/av-min.js',
            'https://cdn.bootcdn.net/ajax/libs/leancloud-storage/4.13.0/av-min.js'
        ];
        
        // æ£€æµ‹SDKæ˜¯å¦æˆåŠŸåŠ è½½
        function checkSDKLoaded() {
            if (typeof AV !== 'undefined') {
                console.log('âœ… LeanCloud SDKåŠ è½½æˆåŠŸ');
                return true;
            }
            console.warn('âŒ LeanCloud SDKæœªåŠ è½½æˆåŠŸ');
            return false;
        }
        
        // å¦‚æœå½“å‰è„šæœ¬åŠ è½½å¤±è´¥ï¼Œå°è¯•å¤‡ç”¨CDN
        document.getElementById('leancloud-sdk').onerror = function() {
            console.warn('âš ï¸ ä¸»CDNåŠ è½½å¤±è´¥ï¼Œå°è¯•å¤‡ç”¨CDN');
            loadBackupSDK();
        };
        
        // åŠ è½½å¤‡ç”¨SDK
        let currentBackupIndex = 0;
        function loadBackupSDK() {
            if (currentBackupIndex >= backupCDNs.length) {
                console.error('âŒ æ‰€æœ‰CDNæºéƒ½åŠ è½½å¤±è´¥');
                return;
            }
            
            const backupCDN = backupCDNs[currentBackupIndex++];
            console.log(`ğŸ”„ å°è¯•å¤‡ç”¨CDN: ${backupCDN}`);
            
            const script = document.createElement('script');
            script.src = backupCDN;
            script.onload = function() {
                if (checkSDKLoaded()) {
                    console.log('âœ… å¤‡ç”¨CDNåŠ è½½æˆåŠŸ');
                    // SDKåŠ è½½æˆåŠŸååˆå§‹åŒ–
                    initLeanCloud();
                }
            };
            script.onerror = function() {
                console.warn(`âŒ å¤‡ç”¨CDN ${backupCDN} åŠ è½½å¤±è´¥`);
                loadBackupSDK();
            };
            document.head.appendChild(script);
        }
        
        // é¡µé¢åŠ è½½å®Œæˆåæ£€æŸ¥SDKçŠ¶æ€
        window.addEventListener('load', function() {
            setTimeout(() => {
                if (!checkSDKLoaded()) {
                    console.warn('âš ï¸ é¡µé¢åŠ è½½å®Œæˆä½†SDKæœªåŠ è½½ï¼Œå°è¯•å¤‡ç”¨CDN');
                    loadBackupSDK();
                }
            }, 2000); // 2ç§’åæ£€æŸ¥ï¼Œç»™è¶³å¤Ÿæ—¶é—´åŠ è½½
        });
    </script>
    <script>
        // LeanCloudé…ç½®ä¿¡æ¯
        const LEANCLOUD_CONFIG = {
            appId: 'LvwXAtkZBt8RI7UN8Jm7R5BL-gzGzoHsz',
            appKey: 'zAMmBWOV5pnmH3KRsCvrRfJL',
            serverURL: 'https://lvwxatkz.lc-cn-n1-shared.com'
        };

        // åˆå§‹åŒ–LeanCloudå‡½æ•°
        function initLeanCloud() {
            try {
                if (typeof AV !== 'undefined') {
                    AV.init({
                        appId: LEANCLOUD_CONFIG.appId,
                        appKey: LEANCLOUD_CONFIG.appKey,
                        serverURL: LEANCLOUD_CONFIG.serverURL
                    });
                    console.log("âœ… LeanCloudåˆå§‹åŒ–æˆåŠŸ");
                    
                    // é¢„åŠ è½½æµ‹è¯•æ•°æ®
                    preloadTestData();
                    
                    return true;
                } else {
                    console.warn("âš ï¸ LeanCloud SDKæœªåŠ è½½");
                    return false;
                }
            } catch (error) {
                console.error("âŒ LeanCloudåˆå§‹åŒ–å¤±è´¥:", error);
                return false;
            }
        }
        
        // ç«‹å³å°è¯•åˆå§‹åŒ–LeanCloud
        if (typeof AV !== 'undefined') {
            initLeanCloud();
        } else {
            console.log("â³ ç­‰å¾…LeanCloud SDKåŠ è½½...");
        }
        
        // é¢„åŠ è½½æµ‹è¯•æ•°æ®åˆ°æœ¬åœ°ç¼“å­˜
        function preloadTestData() {
            // æ·»åŠ æ›´å¤šæµ‹è¯•ç”¨æˆ·ï¼Œç¡®ä¿è·¨è®¾å¤‡éƒ½èƒ½ç™»å½•
            const testUsers = [
                { name: 'æµ‹è¯•', phone: '13800138000', seatNumber: 'AåŒº 01', mealNumber: 'ç¬¬ 1 æ¡Œ', hotel: 'é…’åº—A' },
                { name: 'å¼ ä¸‰', phone: '13900139000', seatNumber: 'BåŒº 02', mealNumber: 'ç¬¬ 2 æ¡Œ', hotel: 'é…’åº—B' },
                { name: 'æå››', phone: '13700137000', seatNumber: 'CåŒº 03', mealNumber: 'ç¬¬ 3 æ¡Œ', hotel: 'é…’åº—A' },
                { name: 'ç‹äº”', phone: '13600136000', seatNumber: 'AåŒº 04', mealNumber: 'ç¬¬ 4 æ¡Œ', hotel: 'é…’åº—B' },
                { name: 'èµµå…­', phone: '13500135000', seatNumber: 'BåŒº 05', mealNumber: 'ç¬¬ 5 æ¡Œ', hotel: 'é…’åº—A' },
                { name: 'é’±ä¸ƒ', phone: '13400134000', seatNumber: 'CåŒº 06', mealNumber: 'ç¬¬ 6 æ¡Œ', hotel: 'é…’åº—B' },
                { name: 'å­™å…«', phone: '13300133000', seatNumber: 'AåŒº 07', mealNumber: 'ç¬¬ 7 æ¡Œ', hotel: 'é…’åº—A' },
                { name: 'å‘¨ä¹', phone: '13200132000', seatNumber: 'BåŒº 08', mealNumber: 'ç¬¬ 8 æ¡Œ', hotel: 'é…’åº—B' },
                { name: 'å´å', phone: '13100131000', seatNumber: 'CåŒº 09', mealNumber: 'ç¬¬ 9 æ¡Œ', hotel: 'é…’åº—A' }
            ];
            
            // å¼ºåˆ¶æ›´æ–°æœ¬åœ°ç¼“å­˜ï¼Œç¡®ä¿æ‰€æœ‰æµ‹è¯•ç”¨æˆ·éƒ½å¯ç”¨
            localStorage.setItem('conferenceUsers', JSON.stringify(testUsers));
            console.log(`âœ… å·²é¢„åŠ è½½ ${testUsers.length} ä¸ªæµ‹è¯•ç”¨æˆ·åˆ°æœ¬åœ°ç¼“å­˜`);
            
            // æ˜¾ç¤ºæµ‹è¯•è´¦å·æç¤º
            console.log('ğŸ¯ æµ‹è¯•è´¦å·ä¿¡æ¯:');
            testUsers.forEach((user, index) => {
                console.log(`${index + 1}. å§“å: ${user.name}, æ‰‹æœºå·: ${user.phone}`);
            });
        }
        
        // é¡µé¢åŠ è½½å®Œæˆåé¢„åŠ è½½æµ‹è¯•æ•°æ®ï¼ˆæ— è®ºSDKæ˜¯å¦åŠ è½½æˆåŠŸï¼‰
        function ensureTestDataLoaded() {
            // ç¡®ä¿æµ‹è¯•æ•°æ®åŠ è½½ï¼Œå³ä½¿SDKåŠ è½½å¤±è´¥ä¹Ÿèƒ½æ­£å¸¸ä½¿ç”¨
            preloadTestData();
            
            // å¦‚æœSDKå·²ç»åŠ è½½ï¼Œå°è¯•åˆå§‹åŒ–
            if (typeof AV !== 'undefined' && !window.leanCloudInitialized) {
                window.leanCloudInitialized = true;
                initLeanCloud();
            }
        }
        
        // é¡µé¢åŠ è½½å®Œæˆåç«‹å³é¢„åŠ è½½æµ‹è¯•æ•°æ®
        if (document.readyState === 'loading') {
            document.addEventListener('DOMContentLoaded', ensureTestDataLoaded);
        } else {
            ensureTestDataLoaded();
        }

        // å…¨å±€é¡µé¢åˆ‡æ¢å‡½æ•°
        window.showPage = function(pageId) {
            console.log('ğŸ“± åˆ‡æ¢é¡µé¢åˆ°:', pageId);
            
            // éšè—æ‰€æœ‰é¡µé¢
            const pages = document.querySelectorAll('#app > div');
            pages.forEach(page => {
                if (page.id && page.id.endsWith('-page')) {
                    page.classList.add('hidden');
                }
            });
            
            // æ˜¾ç¤ºç›®æ ‡é¡µé¢
            const targetPage = document.getElementById(pageId);
            if (targetPage) {
                targetPage.classList.remove('hidden');
                console.log('âœ… é¡µé¢å·²åˆ‡æ¢åˆ°:', pageId);
                
                // å¦‚æœæ˜¯åº§ä½/é¤å¸­/é…’åº—é¡µé¢ï¼ŒåŠ è½½ç”¨æˆ·ä¿¡æ¯
                if (pageId === 'seat-food-hotel-page') {
                    setTimeout(() => {
                        const cachedUserName = localStorage.getItem('cachedUserName');
                        if (cachedUserName) {
                            console.log('ğŸ”„ åŠ è½½ç”¨æˆ·ä¿¡æ¯:', cachedUserName);
                            const userData = localStorage.getItem('currentUser');
                            if (userData) {
                                const user = JSON.parse(userData);
                                updateUserInfo(user);
                            }
                        }
                    }, 100);
                }
                
                // å¦‚æœæ˜¯ä¼šè®®æ—¥ç¨‹é¡µé¢ï¼Œç¡®ä¿é¡µé¢æ»šåŠ¨åˆ°é¡¶éƒ¨å¹¶æ˜¾ç¤ºç´¢å¼•0çš„è½®æ’­å›¾
                if (pageId === 'meeting-schedule-page') {
                    // ç«‹å³æ‰§è¡Œæ»šåŠ¨
                    console.log('ğŸ“‹ å¼€å§‹å¼ºåˆ¶æ»šåŠ¨ä¼šè®®æ—¥ç¨‹é¡µé¢åˆ°é¡¶éƒ¨...');
                    
                    // æ–¹æ³•1ï¼šæ ‡å‡†æ»šåŠ¨
                    window.scrollTo({ top: 0, behavior: 'auto' });
                    
                    // æ–¹æ³•2ï¼šç›´æ¥è®¾ç½®æ»šåŠ¨ä½ç½®
                    document.documentElement.scrollTop = 0;
                    document.body.scrollTop = 0;
                    
                    // æ–¹æ³•3ï¼šè·å–æ‰€æœ‰å¯æ»šåŠ¨å…ƒç´ å¹¶è®¾ç½®
                    const scrollableElements = document.querySelectorAll('main, section, div[class*="overflow"]');
                    scrollableElements.forEach(el => {
                        if (el.scrollTop !== undefined) {
                            el.scrollTop = 0;
                            console.log('ğŸ”„ å·²é‡ç½®æ»šåŠ¨å…ƒç´ :', el.tagName, el.className);
                        }
                    });
                    
                    // æ–¹æ³•4ï¼šä½¿ç”¨requestAnimationFrameç¡®ä¿åœ¨ä¸‹ä¸€å¸§æ‰§è¡Œ
                    requestAnimationFrame(() => {
                        window.scrollTo({ top: 0, behavior: 'auto' });
                        document.documentElement.scrollTop = 0;
                        document.body.scrollTop = 0;
                        console.log('ğŸ¯ å¼ºåˆ¶æ»šåŠ¨å®Œæˆ');
                    });
                    
                    // è®¾ç½®è½®æ’­å›¾ä¸ºç´¢å¼•0
                    setTimeout(() => {
                        if (typeof window.switchSlide === 'function') {
                            window.switchSlide(0);
                            console.log('ğŸ¯ è½®æ’­å›¾å·²è®¾ç½®ä¸ºç´¢å¼•0');
                        }
                        
                        // ç«‹å³æ£€æŸ¥ç”¨æˆ·é«˜äº®
                        setTimeout(() => {
                            if (typeof window.highlightUserInCarousel === 'function') {
                                console.log('ğŸš€ ç«‹å³æ‰§è¡Œç”¨æˆ·é«˜äº®æ£€æŸ¥');
                                highlightUserInCarousel();
                            } else {
                                console.log('âš ï¸ highlightUserInCarousel å‡½æ•°æœªå®šä¹‰ï¼Œå°è¯•å»¶è¿Ÿé‡è¯•');
                                setTimeout(() => {
                                    if (typeof window.highlightUserInCarousel === 'function') {
                                        window.highlightUserInCarousel();
                                    }
                                }, 300);
                            }
                        }, 200);
                    }, 50);
                }
                
                // å¦‚æœæ˜¯åº§ä½/é¤å¸­/é…’åº—é¡µé¢ï¼Œç¡®ä¿é¡µé¢æ»šåŠ¨åˆ°é¡¶éƒ¨
                if (pageId === 'seat-food-hotel-page') {
                    // ç«‹å³æ‰§è¡Œæ»šåŠ¨
                    console.log('ğŸ“ å¼€å§‹å¼ºåˆ¶æ»šåŠ¨åº§ä½/é¤å¸­/é…’åº—é¡µé¢åˆ°é¡¶éƒ¨...');
                    
                    // æ–¹æ³•1ï¼šæ ‡å‡†æ»šåŠ¨
                    window.scrollTo({ top: 0, behavior: 'auto' });
                    
                    // æ–¹æ³•2ï¼šç›´æ¥è®¾ç½®æ»šåŠ¨ä½ç½®
                    document.documentElement.scrollTop = 0;
                    document.body.scrollTop = 0;
                    
                    // æ–¹æ³•3ï¼šè·å–æ‰€æœ‰å¯æ»šåŠ¨å…ƒç´ å¹¶è®¾ç½®
                    const scrollableElements = document.querySelectorAll('main, section, div[class*="overflow"]');
                    scrollableElements.forEach(el => {
                        if (el.scrollTop !== undefined) {
                            el.scrollTop = 0;
                            console.log('ğŸ”„ å·²é‡ç½®æ»šåŠ¨å…ƒç´ :', el.tagName, el.className);
                        }
                    });
                    
                    // æ–¹æ³•4ï¼šä½¿ç”¨requestAnimationFrameç¡®ä¿åœ¨ä¸‹ä¸€å¸§æ‰§è¡Œ
                    requestAnimationFrame(() => {
                        window.scrollTo({ top: 0, behavior: 'auto' });
                        document.documentElement.scrollTop = 0;
                        document.body.scrollTop = 0;
                        console.log('ğŸ¯ åº§ä½/é¤å¸­/é…’åº—é¡µé¢å¼ºåˆ¶æ»šåŠ¨å®Œæˆ');
                    });
                }
            } else {
                console.error('âŒ æœªæ‰¾åˆ°é¡µé¢:', pageId);
            }
        };
        
        // å…¨å±€ç™»å½•å‡½æ•° - æå‰å®šä¹‰ç¡®ä¿å¯è®¿é—®
        window.handleLoginClick = async function() {
            console.log('ğŸ¯ å…¨å±€ç™»å½•å‡½æ•°è¢«è°ƒç”¨ï¼Œå¼€å§‹å¤„ç†ç™»å½•è¯·æ±‚');
            console.log('ğŸ” æ£€æŸ¥LeanCloud SDKçŠ¶æ€:', typeof AV !== 'undefined' ? 'å·²åŠ è½½' : 'æœªåŠ è½½');
            
            const nameInput = document.getElementById('name-input');
            const errorMessage = document.getElementById('error-message');
            const loginButton = document.getElementById('login-button');
            
            if (!nameInput) {
                console.error('âŒ æœªæ‰¾åˆ°å§“åè¾“å…¥æ¡†');
                return;
            }
            
            if (!errorMessage) {
                console.error('âŒ æœªæ‰¾åˆ°é”™è¯¯æç¤ºå…ƒç´ ');
            }
            
            if (!loginButton) {
                console.error('âŒ æœªæ‰¾åˆ°ç™»å½•æŒ‰é’®å…ƒç´ ');
                return;
            }
            
            console.log('âœ… æ‰€æœ‰å¿…è¦å…ƒç´ éƒ½å·²æ‰¾åˆ°');
            
            const name = nameInput.value.trim();
            console.log('ğŸ“‹ è¾“å…¥çš„å§“å:', name);
            
            // éšè—é”™è¯¯ä¿¡æ¯
            if (errorMessage) {
                errorMessage.classList.add('hidden');
            }
            
            if (!name) {
                console.log('âŒ å§“åä¸ºç©º');
                if (errorMessage) {
                    errorMessage.textContent = 'è¯·è¾“å…¥å§“å';
                    errorMessage.classList.remove('hidden');
                    errorMessage.style.display = 'block';
                }
                return;
            }
            
            try {
                // æ˜¾ç¤ºåŠ è½½çŠ¶æ€
                loginButton.textContent = 'ç™»å½•ä¸­...';
                loginButton.disabled = true;
                
                // å…ˆä»æœ¬åœ°ç¼“å­˜è·å–ç”¨æˆ·ä¿¡æ¯
                let user = null;
                const cachedUsers = JSON.parse(localStorage.getItem('conferenceUsers') || '[]');
                user = cachedUsers.find(u => u.name === name);
                
                if (user) {
                    console.log('âœ… ä»æœ¬åœ°ç¼“å­˜æ‰¾åˆ°ç”¨æˆ·:', user);
                } else {
                    console.log('ğŸ”„ æœ¬åœ°ç¼“å­˜æœªæ‰¾åˆ°ç”¨æˆ·ï¼Œå°è¯•ä»LeanCloudè·å–');
                    // å°è¯•ä»LeanCloudè·å–ç”¨æˆ·ä¿¡æ¯
                    try {
                        if (typeof AV !== 'undefined') {
                            console.log('ğŸŒ å¼€å§‹ä»LeanCloudæŸ¥è¯¢ç”¨æˆ·ä¿¡æ¯ï¼Œè®¾ç½®è¶…æ—¶æ§åˆ¶');
                            
                            // è®¾ç½®æŸ¥è¯¢è¶…æ—¶æ§åˆ¶
                            const queryPromise = new Promise((resolve, reject) => {
                                const timeout = setTimeout(() => {
                                    reject(new Error('æŸ¥è¯¢è¶…æ—¶(8ç§’)ï¼Œå¯èƒ½æ˜¯ç½‘ç»œè¿æ¥é—®é¢˜æˆ–æœåŠ¡ç«¯å“åº”æ…¢'));
                                }, 8000); // 8ç§’è¶…æ—¶
                                
                                const query = new AV.Query('user_list');
                                query.equalTo('name', name);
                                
                                query.find().then(users => {
                                    clearTimeout(timeout);
                                    resolve(users);
                                }).catch(error => {
                                    clearTimeout(timeout);
                                    reject(error);
                                });
                            });
                            
                            const users = await queryPromise;
                            console.log('ğŸ“¥ LeanCloudæŸ¥è¯¢ç»“æœ:', users);
                            
                            if (users.length > 0) {
                                const leanCloudUser = users[0];
                                user = {
                                    name: leanCloudUser.get('name') || '',
                                    phone: leanCloudUser.get('phone') || '',
                                    hotel: leanCloudUser.get('hotel') || '',
                                    seatNumber: leanCloudUser.get('seatNumber') || '',
                                    mealNumber: leanCloudUser.get('mealNumber') || ''
                                };
                                console.log('âœ… ä»LeanCloudæ‰¾åˆ°ç”¨æˆ·:', user);
                                
                                // æ›´æ–°æœ¬åœ°ç¼“å­˜
                                cachedUsers.push(user);
                                localStorage.setItem('conferenceUsers', JSON.stringify(cachedUsers));
                                console.log('âœ… å·²æ›´æ–°æœ¬åœ°ç¼“å­˜');
                            } else {
                                console.log('â„¹ï¸ LeanCloudæœªæ‰¾åˆ°ç”¨æˆ·ä¿¡æ¯');
                            }
                        } else {
                            console.log('âš ï¸ LeanCloud SDKæœªåŠ è½½ï¼Œè·³è¿‡äº‘ç«¯æŸ¥è¯¢ï¼Œä½¿ç”¨æœ¬åœ°ç¼“å­˜');
                        }
                    } catch (cloudError) {
                        console.error('âŒ LeanCloudæŸ¥è¯¢å¤±è´¥:', cloudError);
                        // ç»§ç»­ä½¿ç”¨æœ¬åœ°ç¼“å­˜ç»“æœ
                    }
                }
                
                if (user) {
                    // ç¼“å­˜ç”¨æˆ·ä¿¡æ¯
                    localStorage.setItem('cachedUserName', name);
                    localStorage.setItem('currentUser', JSON.stringify(user));
                    // è·³è½¬åˆ°ä¼šè®®ä¸­å¿ƒ
                    window.showPage('conference-center-page');
                } else {
                    console.log('âŒ æœªæ‰¾åˆ°ç”¨æˆ·');
                    if (errorMessage) {
                        // æ˜¾ç¤ºæµ‹è¯•è´¦å·æç¤º
                        errorMessage.innerHTML = `æœªæŸ¥åˆ°å§“åä¿¡æ¯ï¼Œè¯·ä½¿ç”¨ä»¥ä¸‹æµ‹è¯•è´¦å·:<br>
                        æµ‹è¯•/13800138000<br>
                        å¼ ä¸‰/13900139000<br>
                        æå››/13700137000<br>
                        ç‹äº”/13600136000<br>
                        èµµå…­/13500135000`;
                        errorMessage.classList.remove('hidden');
                        errorMessage.style.display = 'block';
                        errorMessage.style.whiteSpace = 'pre-line';
                    }
                }
            } catch (error) {
                console.error('âŒ ç™»å½•å¤±è´¥:', error);
                if (errorMessage) {
                    errorMessage.textContent = 'æŸ¥è¯¢å¤±è´¥ï¼Œè¯·æ£€æŸ¥ç½‘ç»œè¿æ¥åé‡è¯•';
                    errorMessage.classList.remove('hidden');
                    errorMessage.style.display = 'block';
                }
            } finally {
                // æ¢å¤æŒ‰é’®çŠ¶æ€
                if (loginButton) {
                    loginButton.textContent = 'ç«‹å³ç™»å½• / LOGIN';
                    loginButton.disabled = false;
                }
            }
        };
        
        console.log('âœ… å…¨å±€ç™»å½•å‡½æ•°å·²æ³¨å†Œ');
        
        // æ›´æ–°ç”¨æˆ·ä¿¡æ¯æ˜¾ç¤ºå‡½æ•°
        window.updateUserInfo = function(user) {
            console.log('ğŸ”„ æ›´æ–°ç”¨æˆ·ä¿¡æ¯æ˜¾ç¤º:', user);
            
            // æ›´æ–°åº§ä½ä¿¡æ¯
            const userSeatNumber = document.getElementById('user-seat-number');
            if (userSeatNumber && user.seatNumber) {
                userSeatNumber.textContent = user.seatNumber;
                console.log('âœ… åº§ä½ä¿¡æ¯å·²æ›´æ–°:', user.seatNumber);
            }
            
            // æ›´æ–°é¤å¸­ä¿¡æ¯
            const userMealNumber = document.getElementById('user-meal-number');
            if (userMealNumber && user.mealNumber) {
                userMealNumber.textContent = user.mealNumber;
                console.log('âœ… é¤å¸­ä¿¡æ¯å·²æ›´æ–°:', user.mealNumber);
            }
            
            // æ›´æ–°é…’åº—ä¿¡æ¯
            const hotelSection = document.getElementById('hotel-section');
            const hotelNavButton = document.getElementById('hotel-nav-button');
            
            if (hotelSection && user.hotel) {
                // æ˜¾ç¤ºæ•´ä¸ªé…’åº—ä¿¡æ¯åŒºåŸŸ
                hotelSection.classList.remove('hidden');
                console.log('âœ… é…’åº—ä¿¡æ¯åŒºåŸŸå·²æ˜¾ç¤º');
                
                // æ˜¾ç¤ºé…’åº—å¯¼èˆªæŒ‰é’®
                if (hotelNavButton) {
                    hotelNavButton.classList.remove('hidden');
                }
            } else {
                // å¦‚æœæ²¡æœ‰é…’åº—ä¿¡æ¯ï¼Œéšè—æ•´ä¸ªé…’åº—ä¿¡æ¯åŒºåŸŸ
                if (hotelSection) {
                    hotelSection.classList.add('hidden');
                }
                console.log('â„¹ï¸ æœªè®¾ç½®é…’åº—ä¿¡æ¯ï¼Œé…’åº—ä¿¡æ¯åŒºåŸŸå·²éšè—');
            }
        };
        
        console.log('âœ… ç”¨æˆ·ä¿¡æ¯æ›´æ–°å‡½æ•°å·²æ³¨å†Œ');
        
        // å…¨å±€è½®æ’­å›¾æ§åˆ¶å‡½æ•° - æå‰å®šä¹‰ç¡®ä¿å¯è®¿é—®
        let currentSlide = 0;
        let slidesContainer, dotsContainer, dots, images;
        
        window.switchSlide = function(index) {
            console.log('ğŸ¯ switchSlide å‡½æ•°è¢«è°ƒç”¨ï¼Œç›®æ ‡ç´¢å¼•:', index);
            currentSlide = index;
            
            // Get elements if not already initialized
            if (!slidesContainer) {
                slidesContainer = document.getElementById('simple-carousel-slides');
                dotsContainer = document.getElementById('simple-carousel-dots');
                dots = dotsContainer.querySelectorAll('button');
                // è·å–è½®æ’­é¡¹è€Œä¸æ˜¯ç›´æ¥è·å–å›¾ç‰‡
                const slideItems = slidesContainer.querySelectorAll('div[class*="flex-shrink-0"]');
                console.log('ğŸ“Š æ‰¾åˆ°è½®æ’­é¡¹æ•°é‡:', slideItems.length);
            }
            
            if (!slidesContainer || !dotsContainer || !dots.length) {
                console.error('âŒ è½®æ’­å›¾å…ƒç´ æœªæ‰¾åˆ°');
                return;
            }
            
            // ä½¿ç”¨transformæ–¹å¼åˆ‡æ¢è½®æ’­é¡¹
            const simpleCarousel = document.getElementById('simple-carousel');
            if (simpleCarousel) {
                // è·å–å½“å‰è½®æ’­é¡¹çš„å›¾ç‰‡é«˜åº¦
                const currentSlideItem = slidesContainer.children[index];
                if (currentSlideItem) {
                    const currentImage = currentSlideItem.querySelector('img');
                    if (currentImage) {
                        console.log(`ğŸ” å¼€å§‹è®¡ç®—å›¾ç‰‡é«˜åº¦ï¼Œå½“å‰ç´¢å¼•: ${index}`);
                        
                        // é‡ç½®è½®æ’­å®¹å™¨é«˜åº¦ï¼Œè®©æµè§ˆå™¨è‡ªç„¶è®¡ç®—
                        simpleCarousel.style.height = 'auto';
                        console.log(`ğŸ”„ é‡ç½®è½®æ’­å®¹å™¨é«˜åº¦ä¸ºauto`);
                        
                        // å¼ºåˆ¶æµè§ˆå™¨é‡æ’
                        simpleCarousel.offsetHeight;
                        
                        // å»¶è¿Ÿä¸€å°æ®µæ—¶é—´ç¡®ä¿æµè§ˆå™¨å®Œæˆå¸ƒå±€è®¡ç®—
                        setTimeout(() => {
                            // é‡æ–°è·å–å›¾ç‰‡çš„å®é™…æ˜¾ç¤ºé«˜åº¦
                            const actualHeight = currentImage.offsetHeight;
                            console.log(`ğŸ“ é‡æ–°è·å–å›¾ç‰‡å®é™…æ˜¾ç¤ºé«˜åº¦: ${actualHeight}px`);
                            
                            // è®¾ç½®ç²¾ç¡®çš„é«˜åº¦
                            simpleCarousel.style.height = `${actualHeight}px`;
                            console.log(`âœ… è½®æ’­é«˜åº¦å·²è®¾ç½®ä¸º: ${actualHeight}px`);
                            
                            // å†æ¬¡å¼ºåˆ¶é‡æ’ç¡®ä¿é«˜åº¦ç”Ÿæ•ˆ
                            simpleCarousel.offsetHeight;
                        }, 50);
                    }
                }
            }
            
            // æ›´æ–°è½®æ’­ä½ç½®
            slidesContainer.style.transform = `translateX(-${index * 100}%)`;
            slidesContainer.style.transition = 'transform 0.3s ease-in-out';
            
            // Update dots
            dots.forEach((dot, i) => {
                dot.className = i === index 
                    ? 'w-4 h-4 rounded-full bg-blue-500' 
                    : 'w-4 h-4 rounded-full bg-gray-300';
            });
            
            console.log(`âœ… è½®æ’­å·²åˆ‡æ¢åˆ°ç´¢å¼• ${index}`);
        };
        
        // Simplified function to update dots position
        function updateDotsPosition() {
            if (!slidesContainer || !dotsContainer || !images.length) return;
            
            const currentImage = images[currentSlide];
            const imageHeight = currentImage.offsetHeight;
            
            console.log(`ğŸ“ æ›´æ–°æŒ‡ç¤ºå™¨ä½ç½®ã€‚å½“å‰å›¾ç‰‡ç´¢å¼•: ${currentSlide}, å›¾ç‰‡é«˜åº¦: ${imageHeight}px`);
            
            // Reset any inline styles that might interfere
            dotsContainer.style.cssText = '';
            
            console.log(`âœ… æŒ‡ç¤ºå™¨ä½ç½®å·²æ›´æ–°`);
        }
        
        console.log('âœ… å…¨å±€è½®æ’­å›¾å‡½æ•°å·²æ³¨å†Œ');
        
        // é¡µé¢åŠ è½½æ—¶æ£€æŸ¥æ˜¯å¦æœ‰ç¼“å­˜çš„ç”¨æˆ·ä¿¡æ¯
        document.addEventListener('DOMContentLoaded', function() {
            console.log('ğŸ” æ£€æŸ¥ç¼“å­˜çš„ç”¨æˆ·ä¿¡æ¯...');
            const cachedUserName = localStorage.getItem('cachedUserName');
            const cachedUserData = localStorage.getItem('currentUser');
            
            if (cachedUserName && cachedUserData) {
                console.log('âœ… å‘ç°ç¼“å­˜çš„ç”¨æˆ·ä¿¡æ¯:', cachedUserName);
                try {
                    const user = JSON.parse(cachedUserData);
                    // è‡ªåŠ¨ç™»å½•ï¼Œè·³è½¬åˆ°ä¼šè®®ä¸­å¿ƒ
                    setTimeout(() => {
                        window.showPage('conference-center-page');
                        console.log('ğŸš€ è‡ªåŠ¨ç™»å½•æˆåŠŸï¼Œå·²è·³è½¬åˆ°ä¼šè®®ä¸­å¿ƒ');
                    }, 500);
                } catch (error) {
                    console.error('âŒ è§£æç¼“å­˜çš„ç”¨æˆ·æ•°æ®å¤±è´¥:', error);
                    // æ¸…é™¤æŸåçš„ç¼“å­˜
                    localStorage.removeItem('cachedUserName');
                    localStorage.removeItem('currentUser');
                }
            } else {
                console.log('â„¹ï¸ æœªå‘ç°ç¼“å­˜çš„ç”¨æˆ·ä¿¡æ¯ï¼Œæ˜¾ç¤ºç™»å½•é¡µé¢');
                // ç¡®ä¿æ˜¾ç¤ºç™»å½•é¡µé¢
                window.showPage('login-page');
            }
        });
    </script>
    <style>
        .bg-img {
            background-image: url('https://s41.ax1x.com/2026/01/06/pZdwNlT.png');
        }
        .logo {
            background-image: url('https://s41.ax1x.com/2025/12/17/pZlGEUP.png');
        }
        .title-img {
            background-image: url('https://s41.ax1x.com/2025/12/17/pZlGEUP.png');
            background-size: contain;
            background-repeat: no-repeat;
            background-position: left;
        }
        #meeting-agenda-carousel .carousel-item img {
            width: 100% !important;
            height: auto !important;
            display: block !important;
        }
    </style>
</head>
<body class="bg-gray-100">
    <div id="app" class="max-w-md mx-auto h-screen bg-white shadow-lg">
        <!-- Login Page -->
        <div id="login-page" class="h-full bg-img bg-cover flex flex-col items-start justify-start p-8 pt-40">
            <div class="logo w-full h-48 bg-contain bg-left bg-no-repeat mb-6"></div>
            <div class="w-full mb-4">
                <input type="text" id="name-input" placeholder="å§“å/NAME" class="w-full bg-white/20 border border-white/40 rounded-lg p-3 text-white placeholder-white/60 focus:outline-none focus:ring-0" value="" onclick="this.value = ''" oninput="document.getElementById('error-message').classList.add('hidden')">
                <p id="error-message" class="text-red-500 text-sm mt-1 hidden" style="font-size: 14px; color: rgb(250, 2, 2); font-style: normal;">è¯·è¾“å…¥å§“å</p>
            </div>
            <button id="login-button" class="w-full bg-blue-500 text-white font-bold py-3 px-4 rounded-lg hover:bg-blue-600 transition duration-300" onclick="handleLoginClick()">ç«‹å³ç™»å½• / LOGIN</button>
        </div>

        <!-- Conference Center Page -->
        <div id="conference-center-page" class="h-full hidden bg-img bg-cover flex flex-col">

            <main class="flex-1 p-4 flex flex-col overflow-y-auto">
                <div class="title-img w-full h-80 bg-contain bg-left bg-no-repeat mb-8"></div>
                <div class="space-y-4 flex-1">
                    <div id="intro-card" class="conference-info rounded-lg overflow-hidden cursor-pointer" data-target="conference-intro-page" onclick="showPage('conference-intro-page')">
                        <img src="https://s41.ax1x.com/2026/01/06/pZdDRXT.png" alt="ä¼šè®®ä»‹ç»" class="w-full h-auto">
                    </div>
                    <div class="grid grid-cols-2 gap-4">
                        <div id="schedule-card" class="conference-info rounded-lg overflow-hidden cursor-pointer" data-target="meeting-schedule-page" onclick="showPage('meeting-schedule-page')">
                            <img src="https://s41.ax1x.com/2026/01/06/pZdshFJ.png" alt="ä¼šè®®æ—¥ç¨‹" class="w-full h-auto">
                        </div>
                        <div id="route-card" class="conference-info rounded-lg overflow-hidden cursor-pointer" data-target="conference-route-page" onclick="showPage('conference-route-page')">
                            <img src="https://cdn4.winhlb.com/2026/01/07/695dc78330c3d.png" alt="å‚ä¼šè·¯çº¿" class="w-full h-auto">
                        </div>
                    </div>
                    <div class="grid grid-cols-2 gap-4">
                        <div id="seat-card" class="conference-info rounded-lg overflow-hidden cursor-pointer" data-target="seat-food-hotel-page" onclick="showPage('seat-food-hotel-page')">
                            <img src="https://cdn4.winhlb.com/2026/01/07/695dc7833987c.png" alt="åº§ä½/é¤å¸­/é…’åº—" class="w-full h-auto">
                        </div>
                        <div id="live-card" class="conference-info rounded-lg overflow-hidden cursor-pointer">
                            <img src="https://s41.ax1x.com/2026/01/06/pZdsWo4.png" alt="å›¾æ–‡ç›´æ’­" class="w-full h-auto">
                        </div>
                    </div>
                </div>
                <div class="text-xs text-white/60 mt-4">
                    <p style="text-align: left; cursor: pointer;" onclick="showPage('login-page')" class="hover:text-white transition-colors">ä¸»åŠå•ä½ï¼šæ•™è‚²éƒ¨ä¸­å¤–äººæ–‡äº¤æµä¸­å¿ƒ</p>
                    <p style="text-align: left;">è”åˆä¸»åŠï¼šæµ·å—å¸ˆèŒƒå¤§å­¦</p>
                    <p style="text-align: left;">æ‰¿åŠå•ä½ï¼šä¸­ç§‘æµ©åšå›½é™…æ•™è‚²ç§‘æŠ€(åŒ—äº¬)æœ‰é™å…¬å¸</p>
                    <p style="text-align: left;">ä¼šè®®æ—¶é—´ï¼š2025å¹´11æœˆ20æ—¥-21æ—¥ä¸Šåˆ(å…±1.5å¤©)</p>
                </div>
            </main>
        </div>

        <!-- Conference Intro Page -->
        <div id="conference-intro-page" class="h-full hidden bg-img bg-cover flex flex-col">
            <main class="flex-1 p-0 overflow-y-auto">
                <div class="rounded-lg p-4 text-white">
                    <img src="https://s41.ax1x.com/2025/12/17/pZlGEUP.png" alt="é«˜å±‚æ¬¡å›½é™…åŒ–äººæ‰åŸ¹å…»åˆ›æ–°å®è·µé¡¹ç›®å¹´åº¦äº¤æµæ¨è¿›ä¼š" class="w-3/4 h-auto mb-4">
                    <div class="flex items-center mb-4">
                        <div class="w-8 h-8 rounded-full bg-blue-500 flex items-center justify-center mr-3">
                            <span class="font-bold">01</span>
                        </div>
                        <h3 class="text-2xl font-bold">ä¼šè®®ä»‹ç»</h3>
                    </div>
                    <h3 class="text-lg font-semibold text-blue-300 mb-6">CONFERENCE OVERVIEW</h3>
                    <div class="text-sm space-y-4">
                        <p>é«˜å±‚æ¬¡å›½é™…åŒ–äººæ‰åŸ¹å…»åˆ›æ–°å®è·µé¡¹ç›®äº2020å¹´ç–«æƒ…æœŸé—´æ­£å¼å¯åŠ¨ï¼Œæˆªç›®ç›®å‰å·²åœ¨å…¨å›½30å¤šä¸ªçœä»½å¼€å±•ï¼Œä¸‡ä½™æ‰€ä¸­é«˜èŒé™¢æ ¡ã€è¿‘2000æ‰€æœ¬ç§‘é™¢æ ¡å’Œ80ä½™æ‰€ç ”ç©¶ç”ŸåŸ¹å…»å•ä½å‚ä¸å…¶ä¸­ã€‚ä¸ºæ¨è¿›è¯¥é¡¹ç›®æ·±åŒ–å‘å±•ï¼ŒåŠ©åŠ›äººæ‰åŸ¹å…»ä¸å›½å®¶æˆ˜ç•¥éœ€æ±‚ç²¾å‡†å¯¹æ¥ï¼Œç‰¹ä¸¾åŠæ­¤æ¬¡å¹´åº¦äº¤æµæ´»åŠ¨ã€‚</p>
                        <p>ä¸ºæ·±å…¥è´¯å½»è½å®å…šçš„äºŒåå¤§ã€äºŒåå±ŠäºŒä¸­å…¨ä¼šç²¾ç¥ï¼Œå…¨é¢è´¯å½»å…šçš„æ•™è‚²æ–¹é’ˆï¼Œè½å®ç«‹å¾·æ ‘äººæ ¹æœ¬ä»»åŠ¡ï¼ŒåŠ å¿«å»ºè®¾é«˜è´¨é‡æ•™è‚²ä½“ç³»ï¼ŒåŸ¹å…»é€ å°±æ›´å¤šé«˜å±‚æ¬¡å›½é™…åŒ–äººæ‰ï¼Œ2025é«˜å±‚æ¬¡å›½é™…åŒ–äººæ‰åŸ¹å…»åˆ›æ–°å®è·µé¡¹ç›®å¹´åº¦äº¤æµæš¨æ¨è¿›ä¼šå°†äº2025å¹´1æœˆ20æ—¥åœ¨XXä¼šè®®ä¸­å¿ƒéš†é‡ä¸¾è¡Œã€‚</p>
                        <p>æœ¬æ¬¡æ¨è¿›ä¼šå°†èšç„¦"é«˜å±‚æ¬¡å›½é™…åŒ–äººæ‰åŸ¹å…»"ä¸»é¢˜ï¼Œé‚€è¯·å›½å†…å¤–çŸ¥åä¸“å®¶ã€å­¦è€…å’Œè¡Œä¸šé¢†è¢–ï¼Œé€šè¿‡ä¸»é¢˜æŠ¥å‘Šã€ä¸“é¢˜ç ”è®¨ã€ç»éªŒåˆ†äº«ç­‰å½¢å¼ï¼Œå…±åŒæ¢è®¨é«˜å±‚æ¬¡å›½é™…åŒ–äººæ‰åŸ¹å…»çš„æ–°ç†å¿µã€æ–°æ–¹æ³•ã€æ–°è·¯å¾„ï¼Œä¸ºæˆ‘å›½æ•™è‚²ç°ä»£åŒ–å’Œäººæ‰å¼ºå›½æˆ˜ç•¥å®æ–½è´¡çŒ®æ™ºæ…§å’ŒåŠ›é‡ã€‚</p>
                    </div>
                    <div class="mt-8">
                        <button class="back-button bg-blue-500 text-white font-bold py-3 px-8 rounded-full hover:bg-blue-600 transition duration-300 text-base w-full" onclick="showPage('conference-center-page')">è¿”å›é¦–é¡µ</button>
                    </div>
                </div>
            </main>
        </div>

        <!-- Meeting Schedule Page -->
        <div id="meeting-schedule-page" class="h-full hidden bg-img bg-cover flex flex-col">
            <main class="flex-1 p-0 overflow-y-auto">
                <div class="rounded-lg p-4 text-white">
                    <img src="https://s41.ax1x.com/2025/12/17/pZlGEUP.png" alt="ä¼šè®®æ—¥ç¨‹" class="w-3/4 h-auto mb-4">
                    <div class="flex items-center mb-4">
                        <div class="w-8 h-8 rounded-full bg-blue-500 flex items-center justify-center mr-3">
                            <span class="font-bold">02</span>
                        </div>
                        <h3 class="text-2xl font-bold">ä¼šè®®æ—¥ç¨‹</h3>
                    </div>
                    <h4 class="text-lg font-semibold text-blue-300 mb-6">MEETING SCHEDULE</h4>
                </div>
                <div class="w-full mt-4 px-0 m-0">
                    <div id="carousel-container" class="relative p-0 m-0">
                        <div id="simple-carousel" class="overflow-hidden transition-all duration-300 p-0 m-0 relative">
                            <!-- Left arrow -->
                            <button onclick="window.switchSlide(currentSlide > 0 ? currentSlide - 1 : dots.length - 1)" class="absolute left-2 top-1/2 -translate-y-1/2 bg-black/50 text-white w-10 h-10 rounded-full flex items-center justify-center z-10 hover:bg-black/70 transition-colors">
                                <i data-lucide="chevron-left" class="w-6 h-6"></i>
                            </button>
                            
                            <div id="simple-carousel-slides" class="flex transition-transform duration-300 ease-in-out p-0 m-0">
                                <div class="w-full flex-shrink-0">
                                    <img src="https://s41.ax1x.com/2026/01/06/pZdsYsf.jpg" alt="ä¼šè®®æ—¥ç¨‹1" class="w-full h-auto block mx-0" onerror="this.onerror=null; this.src='https://picsum.photos/800/400?random=1';">
                                </div>
                                <div class="w-full flex-shrink-0">
                                    <img src="https://s41.ax1x.com/2026/01/06/pZds9ZF.jpg" alt="ä¼šè®®æ—¥ç¨‹2" class="w-full h-auto block mx-0" onerror="this.onerror=null; this.src='https://picsum.photos/800/300?random=2';">
                                </div>
                            </div>
                            
                            <!-- Right arrow -->
                            <button onclick="window.switchSlide(currentSlide < dots.length - 1 ? currentSlide + 1 : 0)" class="absolute right-2 top-1/2 -translate-y-1/2 bg-black/50 text-white w-10 h-10 rounded-full flex items-center justify-center z-10 hover:bg-black/70 transition-colors">
                                <i data-lucide="chevron-right" class="w-6 h-6"></i>
                            </button>
                        </div>
                        <!-- Dots are now outside the carousel div to ensure visibility -->
                        <div id="simple-carousel-dots" class="flex justify-center space-x-2 mt-3">
                            <button class="w-4 h-4 rounded-full bg-blue-500" data-index="0" onclick="window.switchSlide(0)"></button>
                            <button class="w-4 h-4 rounded-full bg-gray-300" data-index="1" onclick="window.switchSlide(1)"></button>
                        </div>
                    </div>
                </div>
                <div id="back-button-container" class="rounded-lg p-6 text-white mt-4">
                    <div>
                        <button class="back-button bg-blue-500 text-white font-bold py-3 px-4 rounded-full hover:bg-blue-600 transition duration-300 text-base w-full" onclick="showPage('conference-center-page')">è¿”å›é¦–é¡µ</button>
                    </div>
                </div>
            </main>
        </div>

        <!-- Conference Route Page -->
        <div id="conference-route-page" class="h-full hidden bg-img bg-cover flex flex-col">
            <main class="flex-1 p-0 overflow-y-auto">
                <div class="rounded-lg p-4 text-white">

                    <img src="https://s41.ax1x.com/2025/12/17/pZlGEUP.png" alt="é«˜å±‚æ¬¡å›½é™…åŒ–äººæ‰åŸ¹å…»åˆ›æ–°å®è·µé¡¹ç›®å¹´åº¦äº¤æµæ¨è¿›ä¼š" class="w-3/4 h-auto mb-4">
                    <div class="flex items-center mb-4">
                        <div class="w-8 h-8 rounded-full bg-blue-500 flex items-center justify-center mr-3">
                            <span class="font-bold">03</span>
                        </div>
                        <h3 class="text-2xl font-bold">å‚ä¼šè·¯çº¿</h3>
                    </div>
                    <h4 class="text-lg font-semibold text-blue-300 mb-6">CONFERENCE ROUTE</h4>
                    <div class="mb-6">
                        <img src="https://s41.ax1x.com/2026/01/06/pZdB3R0.png" alt="å‚ä¼šè·¯çº¿åœ°å›¾" class="w-full h-auto rounded-lg">
                    </div>
                    <div class="mt-8 flex justify-center">
                        <button class="bg-blue-500 text-white font-bold py-3 px-8 rounded-full hover:bg-blue-600 transition duration-300 text-base w-full" onclick="navigateToHotel()">ç«‹å³å¯¼èˆª</button>
                    </div>
                    <div class="mt-8">
                        <button class="back-button bg-blue-500 text-white font-bold py-3 px-8 rounded-full hover:bg-blue-600 transition duration-300 text-base w-full" onclick="showPage('conference-center-page')">è¿”å›é¦–é¡µ</button>
                    </div>
                </div>
            </main>
        </div>

        <!-- Image Text Live Page -->
        <div id="image-text-live-page" class="h-full hidden">
            <header class="bg-img bg-cover p-4 flex items-center">
                <button class="back-button text-white mr-4">
                    <i data-lucide="chevron-left" class="w-6 h-6"></i>
                </button>
                <h1 class="text-xl font-bold text-white">å›¾æ–‡ç›´æ’­</h1>
            </header>
            <main class="h-[calc(100%-64px)] p-4 overflow-y-auto">
                <div class="bg-white rounded-lg p-4 shadow-md">
                    <div class="text-center text-gray-500">
                        <i data-lucide="video" class="w-16 h-16 mx-auto mb-4"></i>
                        <p>ç›´æ’­å°šæœªå¼€å§‹ï¼Œè¯·ç¨åå†è¯•ã€‚</p>
                    </div>
                </div>
            </main>
        </div>

        <!-- Seat Food Hotel Page -->
        <div id="seat-food-hotel-page" class="h-full hidden bg-img bg-cover flex flex-col">
            <main class="flex-1 p-0 overflow-y-auto">
                <div class="rounded-lg p-4 text-white">
                    <img src="https://s41.ax1x.com/2025/12/17/pZlGEUP.png" alt="é«˜å±‚æ¬¡å›½é™…åŒ–äººæ‰åŸ¹å…»åˆ›æ–°å®è·µé¡¹ç›®å¹´åº¦äº¤æµæ¨è¿›ä¼š" class="w-3/4 h-auto mb-4">
                    <div class="flex items-center mb-4">
                        <div class="w-8 h-8 rounded-full bg-blue-500 flex items-center justify-center mr-3">
                            <span class="font-bold">04</span>
                        </div>
                        <h3 class="text-2xl font-bold">åº§ä½/é¤å¸­/é…’åº—</h3>
                    </div>
                    <h4 class="text-lg font-semibold text-blue-300 mb-6">SEAT/MEAL/ACCOMMODATION</h4>
                    
                    <!-- Meeting Seat Section -->
                    <div class="mb-8">
                        <div class="flex items-center mb-4">
                            <div class="w-6 h-6 rounded-full bg-blue-500 flex items-center justify-center mr-2">
                                <span class="font-bold text-xs">01</span>
                            </div>
                            <h5 class="text-xl font-bold">ä¼šè®®åå¸­</h5>
                        </div>
                        <div class="bg-white/10 rounded-lg p-4 backdrop-blur-sm">
                            <img src="https://cdn4.winhlb.com/2026/01/07/695dd0ccc95eb.jpg" alt="ä¼šè®®åå¸­" class="w-full h-auto rounded-lg mb-4">
                            <p class="text-center text-lg font-semibold hidden" id="meeting-seat-info">1F çç å…</p>
                            <p class="text-center text-2xl font-bold mt-2 text-yellow-300" id="user-seat-number" style="color: rgb(237, 236, 230);">AåŒº 01</p>
                        </div>
                    </div>
                    
                    <!-- Lunch Seat Section -->
                    <div class="mb-8">
                        <div class="flex items-center mb-4">
                            <div class="w-6 h-6 rounded-full bg-blue-500 flex items-center justify-center mr-2">
                                <span class="font-bold text-xs">02</span>
                            </div>
                            <h5 class="text-xl font-bold">åˆé¤åå¸­</h5>
                        </div>
                        <div class="bg-white/10 rounded-lg p-4 backdrop-blur-sm">
                            <img src="https://cdn4.winhlb.com/2026/01/07/695dd3121792b.jpg" alt="åˆé¤åå¸­" class="w-full h-auto rounded-lg mb-4">
                            <p class="text-center text-lg font-semibold hidden" id="lunch-seat-info">é…’åº—äºŒæ¥¼ - æ˜Ÿæ‚¦é˜ä¸­é¤å…</p>
                            <p class="text-center text-2xl font-bold mt-2 text-yellow-300" id="user-meal-number" style="color: rgb(242, 242, 240);">ç¬¬ 1 æ¡Œ</p>
                        </div>
                    </div>
                    
                    <!-- Hotel Info Section -->
                    <div id="hotel-section" class="mb-8 hidden">
                        <div class="flex items-center mb-4">
                            <div class="w-6 h-6 rounded-full bg-blue-500 flex items-center justify-center mr-2">
                                <span class="font-bold text-xs">03</span>
                            </div>
                            <h5 class="text-xl font-bold">é…’åº—ä¿¡æ¯</h5>
                        </div>
                        <div class="bg-white/10 rounded-lg p-4 backdrop-blur-sm">
                            <img src="https://cdn4.winhlb.com/2026/01/07/695dd3e214c38.png" alt="é…’åº—A" class="w-full h-auto rounded-lg mb-4">
                           

                            <button id="hotel-nav-button" class="w-full bg-blue-500 text-white font-bold py-3 px-8 rounded-full hover:bg-blue-600 transition duration-300 mt-4 text-base" onclick="navigateToHotel()">ç«‹å³å¯¼èˆª</button>
                        </div>
                    </div>
                    
                    <div class="mt-8">
                        <button class="back-button bg-blue-500 text-white font-bold py-3 px-8 rounded-full hover:bg-blue-600 transition duration-300 text-base w-full" onclick="showPage('conference-center-page')">è¿”å›é¦–é¡µ</button>
                    </div>
                </div>
            </main>
        </div>

        <!-- Hotel Map Page -->
        <div id="hotel-map-page" class="h-full hidden">
            <header class="bg-img bg-cover p-4 flex items-center">
                <button class="back-button text-white mr-4">
                    <i data-lucide="chevron-left" class="w-6 h-6"></i>
                </button>
                <h1 class="text-xl font-bold text-white">é…’åº—åœ°å›¾</h1>
            </header>
            <main class="h-[calc(100%-64px)] p-4 overflow-y-auto">
                <div class="bg-white rounded-lg p-4 shadow-md">
                    <img src="https://s41.ax1x.com/2025/12/17/pZlGEUP.png" alt="æµ·å£æ˜Ÿæ¹¾é“‚å°”æ›¼é…’åº—åœ°å›¾" class="w-full h-auto rounded-lg">
                </div>
            </main>
        </div>
    </div>

    <script>
        lucide.createIcons();

        // å¯¼èˆªåˆ°é…’åº—å‡½æ•°
        function navigateToHotel() {
            console.log('ğŸ” å¼€å§‹å¤„ç†å¯¼èˆªè¯·æ±‚...');
            
            // è·å–å½“å‰ç”¨æˆ·ä¿¡æ¯
            const currentUser = JSON.parse(localStorage.getItem('currentUser'));
            const hotelName = currentUser ? currentUser.hotel : 'æµ·å£å¸‚æ˜Ÿæµ·æ¹¾é“‚å°”æ›¼é…’åº—';
            const hotelAddress = 'æµ·å—çœæµ·å£å¸‚ç¾å…°åŒºæ–°åŸ å²›è¥¿è‹‘è·¯21å·';
            const lat = 20.045196; // é…’åº—çº¬åº¦
            const lng = 110.358844; // é…’åº—ç»åº¦
            
            console.log(`ğŸ¨ ç›®æ ‡é…’åº—: ${hotelName}`);
            console.log(`ğŸ“ é…’åº—åœ°å€: ${hotelAddress}`);
            console.log(`ğŸ“Œ åæ ‡: ${lat}, ${lng}`);
            
            // æ£€æµ‹æ˜¯å¦åœ¨å¾®ä¿¡ç¯å¢ƒä¸­
            const isWeChat = /MicroMessenger/i.test(navigator.userAgent);
            console.log(`ğŸ“± æ˜¯å¦åœ¨å¾®ä¿¡ç¯å¢ƒ: ${isWeChat}`);
            
            if (isWeChat) {
                console.log('ğŸ’¡ æ£€æµ‹åˆ°å¾®ä¿¡ç¯å¢ƒï¼Œå°è¯•ä½¿ç”¨å¾®ä¿¡å†…ç½®å¯¼èˆª');
                
                // æ£€æŸ¥å¾®ä¿¡JS-SDKæ˜¯å¦åŠ è½½
                if (typeof wx !== 'undefined') {
                    console.log('âœ… å¾®ä¿¡JS-SDKå·²åŠ è½½ï¼Œé…ç½®å¹¶è°ƒç”¨å¾®ä¿¡å¯¼èˆª');
                    
                    // é…ç½®å¾®ä¿¡JS-SDKï¼ˆè¿™é‡Œä½¿ç”¨ç®€åŒ–é…ç½®ï¼Œå®é™…é¡¹ç›®ä¸­éœ€è¦åç«¯ç­¾åï¼‰
                    wx.config({
                        debug: false,
                        appId: 'wx1234567890', // å®é™…ä½¿ç”¨æ—¶éœ€è¦æ›¿æ¢ä¸ºçœŸå®çš„appId
                        timestamp: new Date().getTime(),
                        nonceStr: 'conference' + Math.random().toString(36).substr(2, 9),
                        signature: 'signature', // å®é™…ä½¿ç”¨æ—¶éœ€è¦åç«¯ç”Ÿæˆ
                        jsApiList: ['openLocation', 'getLocation']
                    });
                    
                    wx.ready(function() {
                        console.log('âœ… å¾®ä¿¡JS-SDKé…ç½®æˆåŠŸ');
                        
                        try {
                            // ç›´æ¥è°ƒç”¨å¾®ä¿¡å†…ç½®å¯¼èˆª
                            wx.openLocation({
                                latitude: lat,
                                longitude: lng,
                                name: hotelName,
                                address: hotelAddress,
                                scale: 18,
                                infoUrl: ''
                            });
                            console.log('ğŸš€ å¾®ä¿¡å¯¼èˆªè°ƒç”¨æˆåŠŸ');
                        } catch (error) {
                            console.error('âŒ å¾®ä¿¡å¯¼èˆªè°ƒç”¨å¤±è´¥:', error);
                            // é™çº§åˆ°å¤‡é€‰æ–¹æ¡ˆ
                            showNavigationOptions(hotelName, hotelAddress);
                        }
                    });
                    
                    wx.error(function(res) {
                        console.error('âŒ å¾®ä¿¡JS-SDKé…ç½®å¤±è´¥:', res);
                        // é™çº§åˆ°å¤‡é€‰æ–¹æ¡ˆ
                        showNavigationOptions(hotelName, hotelAddress);
                    });
                    
                } else {
                    console.warn('âš ï¸ å¾®ä¿¡JS-SDKæœªåŠ è½½ï¼Œä½¿ç”¨å¤‡é€‰æ–¹æ¡ˆ');
                    // é™çº§åˆ°å¤‡é€‰æ–¹æ¡ˆ
                    showNavigationOptions(hotelName, hotelAddress);
                }
                
            } else {
                console.log('ğŸŒ éå¾®ä¿¡ç¯å¢ƒï¼Œç›´æ¥å°è¯•æ‰“å¼€åœ°å›¾åº”ç”¨');
                
                // éå¾®ä¿¡ç¯å¢ƒï¼Œå°è¯•ç›´æ¥æ‰“å¼€é«˜å¾·åœ°å›¾
                const amapUrl = `https://uri.amap.com/marker?position=${lng},${lat}&name=${encodeURIComponent(hotelName)}&src=mypage&coordinate=gaode&callnative=1`;
                
                // å°è¯•æ‰“å¼€åœ°å›¾åº”ç”¨ï¼Œå¦‚æœå¤±è´¥åˆ™æ˜¾ç¤ºç½‘é¡µç‰ˆ
                window.location.href = amapUrl;
                
                // 2ç§’åæ£€æŸ¥æ˜¯å¦æˆåŠŸè·³è½¬ï¼Œå¦‚æœæ²¡æˆåŠŸåˆ™æ˜¾ç¤ºå¤‡é€‰æ–¹æ¡ˆ
                setTimeout(() => {
                    showNavigationOptions(hotelName, hotelAddress);
                }, 2000);
            }
        }

        // æ˜¾ç¤ºå¯¼èˆªé€‰é¡¹å¼¹çª—
        function showNavigationOptions(hotelName, hotelAddress) {
            console.log('ğŸ“‹ æ˜¾ç¤ºå¯¼èˆªé€‰é¡¹...');
            
            // ç§»é™¤å·²å­˜åœ¨çš„å¼¹çª—
            const existingModal = document.getElementById('navigation-modal');
            if (existingModal) {
                existingModal.remove();
            }
            
            // åˆ›å»ºå¼¹çª—HTML
            const modalHTML = `
                <div id="navigation-modal" class="fixed inset-0 bg-black/50 flex items-center justify-center z-50">
                    <div class="bg-white rounded-2xl p-6 w-[90%] max-w-md mx-4">
                        <div class="text-center mb-6">
                            <h3 class="text-xl font-bold text-gray-800 mb-2">é€‰æ‹©å¯¼èˆªæ–¹å¼</h3>
                            <p class="text-gray-600 text-sm">è¯·é€‰æ‹©æ‚¨åå¥½çš„åœ°å›¾åº”ç”¨è¿›è¡Œå¯¼èˆª</p>
                        </div>
                        
                        <div class="space-y-4">
                            <!-- é«˜å¾·åœ°å›¾ -->
                            <button onclick="openMapApp('amap', '${encodeURIComponent(hotelName)}', '${encodeURIComponent(hotelAddress)}')" 
                                    class="w-full flex items-center justify-between bg-blue-50 hover:bg-blue-100 text-blue-700 py-3 px-4 rounded-xl transition-colors">
                                <div class="flex items-center">
                                    <div class="w-10 h-10 bg-blue-500 rounded-lg flex items-center justify-center mr-3">
                                        <span class="text-white font-bold">é«˜å¾·</span>
                                    </div>
                                    <span class="font-medium">é«˜å¾·åœ°å›¾</span>
                                </div>
                                <i data-lucide="chevron-right" class="w-5 h-5 text-gray-400"></i>
                            </button>
                            
                            <!-- ç™¾åº¦åœ°å›¾ -->
                            <button onclick="openMapApp('baidu', '${encodeURIComponent(hotelName)}', '${encodeURIComponent(hotelAddress)}')" 
                                    class="w-full flex items-center justify-between bg-blue-50 hover:bg-blue-100 text-blue-700 py-3 px-4 rounded-xl transition-colors">
                                <div class="flex items-center">
                                    <div class="w-10 h-10 bg-blue-600 rounded-lg flex items-center justify-center mr-3">
                                        <span class="text-white font-bold">ç™¾åº¦</span>
                                    </div>
                                    <span class="font-medium">ç™¾åº¦åœ°å›¾</span>
                                </div>
                                <i data-lucide="chevron-right" class="w-5 h-5 text-gray-400"></i>
                            </button>
                            
                            <!-- è…¾è®¯åœ°å›¾ -->
                            <button onclick="openMapApp('tencent', '${encodeURIComponent(hotelName)}', '${encodeURIComponent(hotelAddress)}')" 
                                    class="w-full flex items-center justify-between bg-blue-50 hover:bg-blue-100 text-blue-700 py-3 px-4 rounded-xl transition-colors">
                                <div class="flex items-center">
                                    <div class="w-10 h-10 bg-green-500 rounded-lg flex items-center justify-center mr-3">
                                        <span class="text-white font-bold">è…¾è®¯</span>
                                    </div>
                                    <span class="font-medium">è…¾è®¯åœ°å›¾</span>
                                </div>
                                <i data-lucide="chevron-right" class="w-5 h-5 text-gray-400"></i>
                            </button>
                        </div>
                        
                        <!-- æç¤ºä¿¡æ¯ -->
                        <div class="mt-6 p-4 bg-yellow-50 rounded-lg">
                            <div class="flex items-start">
                                <i data-lucide="info" class="w-5 h-5 text-yellow-500 mr-2 mt-0.5"></i>
                                <p class="text-sm text-gray-700">
                                    å¦‚æœç‚¹å‡»åæ²¡æœ‰ååº”ï¼Œè¯·å¤åˆ¶é…’åº—åœ°å€åœ¨åœ°å›¾åº”ç”¨ä¸­æœç´¢ï¼š<br>
                                    <span class="font-medium">${hotelAddress}</span>
                                </p>
                            </div>
                        </div>
                        
                        <!-- å¾®ä¿¡å¯¼èˆªæŒ‰é’® -->
                        <button onclick="useWeChatNavigation('${encodeURIComponent(hotelName)}', '${encodeURIComponent(hotelAddress)}')" 
                                class="w-full mt-4 bg-green-600 text-white py-3 px-4 rounded-xl hover:bg-green-700 transition-colors font-medium">
                            <div class="flex items-center justify-center">
                                <i data-lucide="map-pin" class="w-5 h-5 mr-2"></i>
                                <span>ä½¿ç”¨å¾®ä¿¡å†…ç½®å¯¼èˆª</span>
                            </div>
                        </button>
                                    <span class="font-medium">${hotelAddress}</span>
                                </p>
                            </div>
                        </div>
                        
                        <!-- å–æ¶ˆæŒ‰é’® -->
                        <button onclick="closeNavigationModal()" 
                                class="w-full mt-6 bg-gray-100 hover:bg-gray-200 text-gray-700 py-3 rounded-xl font-medium transition-colors">
                            å–æ¶ˆ
                        </button>
                    </div>
                </div>
            `;
            
            // æ·»åŠ å¼¹çª—åˆ°é¡µé¢
            document.body.insertAdjacentHTML('beforeend', modalHTML);
            
            // é‡æ–°æ¸²æŸ“å›¾æ ‡
            lucide.createIcons();
            
            console.log('âœ… å¯¼èˆªé€‰é¡¹å¼¹çª—å·²æ˜¾ç¤º');
        }

        // æ‰“å¼€åœ°å›¾åº”ç”¨
        function openMapApp(mapType, hotelName, hotelAddress) {
            console.log(`ğŸš€ å°è¯•æ‰“å¼€${mapType}åœ°å›¾...`);
            
            let mapUrl = '';
            const lat = '20.045196'; // é…’åº—çº¬åº¦
            const lng = '110.358844'; // é…’åº—ç»åº¦
            
            try {
                switch (mapType) {
                    case 'amap':
                        // é«˜å¾·åœ°å›¾
                        mapUrl = `https://uri.amap.com/marker?position=${lng},${lat}&name=${hotelName}&src=mypage&coordinate=gaode&callnative=1`;
                        break;
                    case 'baidu':
                        // ç™¾åº¦åœ°å›¾ï¼ˆéœ€è¦è½¬æ¢åæ ‡ç³»ï¼‰
                        mapUrl = `https://api.map.baidu.com/marker?location=${lat},${lng}&title=${hotelName}&content=${hotelAddress}&output=html&src=mypage`;
                        break;
                    case 'tencent':
                        // è…¾è®¯åœ°å›¾
                        mapUrl = `https://apis.map.qq.com/uri/v1/marker?marker=coord:${lat},${lng};title:${hotelName};addr:${hotelAddress}`;
                        break;
                }
                
                console.log(`ğŸŒ åœ°å›¾URL: ${mapUrl}`);
                
                // å°è¯•æ‰“å¼€åœ°å›¾åº”ç”¨
                window.location.href = mapUrl;
                
                // 2ç§’åå…³é—­å¼¹çª—
                setTimeout(() => {
                    closeNavigationModal();
                }, 2000);
                
            } catch (error) {
                console.error('âŒ æ‰“å¼€åœ°å›¾åº”ç”¨å¤±è´¥:', error);
                
                // æ˜¾ç¤ºé”™è¯¯æç¤º
                alert('æ‰“å¼€åœ°å›¾åº”ç”¨å¤±è´¥ï¼Œè¯·æ‰‹åŠ¨æœç´¢é…’åº—åœ°å€ï¼š' + decodeURIComponent(hotelAddress));
                closeNavigationModal();
            }
        }

        // å…³é—­å¯¼èˆªå¼¹çª—
        function closeNavigationModal() {
            console.log('âŒ å…³é—­å¯¼èˆªå¼¹çª—');
            
            const modal = document.getElementById('navigation-modal');
            if (modal) {
                modal.remove();
            }
        }

        // ä½¿ç”¨å¾®ä¿¡å¯¼èˆª
        function useWeChatNavigation(hotelName, hotelAddress) {
            console.log('ğŸ”„ ä½¿ç”¨å¾®ä¿¡å†…ç½®å¯¼èˆª...');
            
            const lat = 20.045196; // é…’åº—çº¬åº¦
            const lng = 110.358844; // é…’åº—ç»åº¦
            
            hotelName = decodeURIComponent(hotelName);
            hotelAddress = decodeURIComponent(hotelAddress);
            
            console.log(`ğŸ¨ ç›®æ ‡é…’åº—: ${hotelName}`);
            console.log(`ğŸ“ é…’åº—åœ°å€: ${hotelAddress}`);
            
            if (typeof wx !== 'undefined') {
                console.log('âœ… è°ƒç”¨å¾®ä¿¡openLocationæ¥å£');
                
                try {
                    wx.openLocation({
                        latitude: lat,
                        longitude: lng,
                        name: hotelName,
                        address: hotelAddress,
                        scale: 18,
                        infoUrl: ''
                    });
                    
                    console.log('ğŸš€ å¾®ä¿¡å¯¼èˆªè°ƒç”¨æˆåŠŸ');
                    closeNavigationModal();
                    
                } catch (error) {
                    console.error('âŒ å¾®ä¿¡å¯¼èˆªè°ƒç”¨å¤±è´¥:', error);
                    
                    if (error.message.includes('function not exist')) {
                        alert('å¾®ä¿¡å¯¼èˆªåŠŸèƒ½ä¸å¯ç”¨ï¼Œè¯·å°è¯•å…¶ä»–å¯¼èˆªæ–¹å¼');
                    } else {
                        alert('å¯¼èˆªå¤±è´¥ï¼Œè¯·é‡è¯•');
                    }
                }
                
            } else {
                console.error('âŒ å¾®ä¿¡JS-SDKæœªåŠ è½½');
                alert('å¾®ä¿¡ç¯å¢ƒå¼‚å¸¸ï¼Œè¯·åˆ·æ–°é¡µé¢é‡è¯•');
            }
        }

        // Define switchSlide globally to fix the ReferenceError
        let currentSlide = 0;
        let slidesContainer, dotsContainer, dots, images;

        // Simplified function to update dots position
        function updateDotsPosition() {
            if (!slidesContainer || !dotsContainer || !images.length) return;
            
            const currentImage = images[currentSlide];
            const imageHeight = currentImage.offsetHeight;
            
            console.log(`ğŸ“ æ›´æ–°æŒ‡ç¤ºå™¨ä½ç½®ã€‚å½“å‰å›¾ç‰‡ç´¢å¼•: ${currentSlide}, å›¾ç‰‡é«˜åº¦: ${imageHeight}px`);
            
            // Reset any inline styles that might interfere
            dotsContainer.style.cssText = '';
            
            console.log(`âœ… æŒ‡ç¤ºå™¨ä½ç½®å·²æ›´æ–°`);
        }

        // switchSlideå‡½æ•°å·²åœ¨é¡µé¢å¤´éƒ¨å®šä¹‰

        // Simple initialization when DOM is loaded
        document.addEventListener('DOMContentLoaded', function() {
            console.log('ğŸ”„ è½®æ’­å›¾åˆå§‹åŒ–å¼€å§‹ã€‚');
            
            // Get elements
            slidesContainer = document.getElementById('simple-carousel-slides');
            dotsContainer = document.getElementById('simple-carousel-dots');
            dots = dotsContainer.querySelectorAll('button');
            images = slidesContainer.querySelectorAll('img');
            
            console.log('ğŸ“Š è½®æ’­å›¾å…ƒç´ çŠ¶æ€:');
            console.log('- slidesContainer:', slidesContainer);
            console.log('- dotsContainer:', dotsContainer);
            console.log('- dotsæ•°é‡:', dots.length);
            console.log('- imagesæ•°é‡:', images.length);
            
            // Initialize touch events for swipe functionality
            if (slidesContainer) {
                let touchStartX = 0;
                let touchEndX = 0;
                const minSwipeDistance = 50; // Minimum distance to consider as a swipe
                
                slidesContainer.addEventListener('touchstart', function(e) {
                    touchStartX = e.touches[0].clientX;
                    console.log('ğŸ‘† è§¦æ‘¸å¼€å§‹ï¼ŒXåæ ‡:', touchStartX);
        
                
                slidesContainer.addEventListener('touchmove', function(e) {
                    touchEndX = e.touches[0].clientX;
        
                
                slidesContainer.addEventListener('touchend', function() {
                    console.log('ğŸ‘‹ è§¦æ‘¸ç»“æŸï¼Œå¼€å§‹Xåæ ‡:', touchStartX, 'ç»“æŸXåæ ‡:', touchEndX);
                    
                    const swipeDistance = touchEndX - touchStartX;
                    console.log('ğŸ“ æ»‘åŠ¨è·ç¦»:', swipeDistance);
                    
                    // Check if swipe distance is greater than minimum threshold
                    if (Math.abs(swipeDistance) > minSwipeDistance) {
                        if (swipeDistance > 0) {
                            // Swipe right
                            console.log('â†ªï¸ å‘å³æ»‘åŠ¨');
                            const prevSlide = currentSlide > 0 ? currentSlide - 1 : dots.length - 1;
                            window.switchSlide(prevSlide);
                        } else {
                            // Swipe left
                            console.log('â†©ï¸ å‘å·¦æ»‘åŠ¨');
                            const nextSlide = currentSlide < dots.length - 1 ? currentSlide + 1 : 0;
                            window.switchSlide(nextSlide);
                        }
                    } else {
                        console.log('â– æ»‘åŠ¨è·ç¦»è¿‡å°ï¼Œä¸è§¦å‘åˆ‡æ¢');
                    }
        
                
                console.log('âœ… æ‰‹åŠ¿æ»‘åŠ¨åŠŸèƒ½å·²åˆå§‹åŒ–');
            }
            
            console.log('âœ… è½®æ’­å›¾åˆå§‹åŒ–å®Œæˆã€‚');


        // Ensure there is a test user
        const ensureTestUser = () => {
            const users = JSON.parse(localStorage.getItem('conferenceUsers') || '[]');
            // Remove any existing test user to ensure fresh data
            const filteredUsers = users.filter(u => u.name !== 'æµ‹è¯•');
            // Add fresh test user
            filteredUsers.push({ 
                name: 'æµ‹è¯•', 
                phone: '13800138000', 
                hotel: 'é…’åº—A',
                seatNumber: 'AåŒº 01',
                mealNumber: 'ç¬¬ 1 æ¡Œ'
    
            localStorage.setItem('conferenceUsers', JSON.stringify(filteredUsers));
            console.log('Test user refreshed.');
        };
        ensureTestUser();

        const pages = ['login-page', 'conference-center-page', 'conference-intro-page', 'meeting-schedule-page', 'conference-route-page', 'image-text-live-page', 'seat-food-hotel-page', 'hotel-map-page'];

        function showPage(pageId) {
            pages.forEach(id => {
                document.getElementById(id).classList.add('hidden');
    
            document.getElementById(pageId).classList.remove('hidden');
            lucide.createIcons();
            
            // Update seat/meal info when entering seat-food-hotel page
            if (pageId === 'seat-food-hotel-page') {
                console.log('ğŸ”„ è¿›å…¥åº§ä½/é¤å¸­/é…’åº—é¡µé¢ï¼Œå‡†å¤‡åŠ è½½ç”¨æˆ·ä¿¡æ¯');
                
                // Force scroll to top immediately
                window.scrollTo(0, 0);
                document.documentElement.scrollTop = 0;
                document.body.scrollTop = 0;
                
                // Get the main container of the page and scroll it to top
                const mainContainer = document.querySelector('#seat-food-hotel-page main');
                if (mainContainer) {
                    mainContainer.scrollTop = 0;
                    console.log('âœ… é¡µé¢ä¸»å®¹å™¨å·²æ»šåŠ¨åˆ°é¡¶éƒ¨');
                }
                
                // Get cached user name
                const cachedName = localStorage.getItem('cachedUserName');
                if (cachedName) {
                    console.log('ğŸ“± å½“å‰ç™»å½•ç”¨æˆ·:', cachedName);
                    
                    // Get users from localStorage
                    const users = JSON.parse(localStorage.getItem('conferenceUsers') || '[]');
                    const user = users.find(u => u.name === cachedName);
                    
                    if (user) {
                        console.log('âœ… æ‰¾åˆ°ç”¨æˆ·ä¿¡æ¯:', user);
                        
                        // Get all sections
                        const meetingSeatSection = document.querySelector('#seat-food-hotel-page .mb-8:nth-of-type(1)');
                        const lunchSeatSection = document.querySelector('#seat-food-hotel-page .mb-8:nth-of-type(2)');
                        const hotelSection = document.querySelector('#seat-food-hotel-page .mb-8:nth-of-type(3)');
                        
                        // Update and show/hide meeting seat section
                        const userSeatNumberElement = document.getElementById('user-seat-number');
                        if (userSeatNumberElement) {
                            if (user.seatNumber) {
                                userSeatNumberElement.textContent = user.seatNumber;
                                userSeatNumberElement.style.color = '#FDE047';
                                console.log('âœ… å·²æ›´æ–°ä¼šè®®åå¸­å·:', user.seatNumber);
                            } else {
                                userSeatNumberElement.textContent = 'æš‚æœªåˆ†é…';
                                userSeatNumberElement.style.color = '#9CA3AF';
                                console.log('âŒ æœªæ‰¾åˆ°ä¼šè®®åå¸­ä¿¡æ¯');
                            }
                        }
                        
                        // Update and show/hide lunch seat section
                        const userMealNumberElement = document.getElementById('user-meal-number');
                        if (userMealNumberElement) {
                            if (user.mealNumber) {
                                userMealNumberElement.textContent = user.mealNumber;
                                userMealNumberElement.style.color = '#FDE047';
                                console.log('âœ… å·²æ›´æ–°åˆé¤åå¸­å·:', user.mealNumber);
                            } else {
                                userMealNumberElement.textContent = 'æš‚æœªåˆ†é…';
                                userMealNumberElement.style.color = '#9CA3AF';
                                console.log('âŒ æœªæ‰¾åˆ°åˆé¤åå¸­ä¿¡æ¯');
                            }
                        }
                        
                        // Update and show/hide hotel section
                        const hotelInfoElement = document.getElementById('hotel-info');
                        const navButton = document.getElementById('hotel-nav-button');
                        const hotelSection = hotelInfoElement ? hotelInfoElement.closest('.mb-8') : null;
                        
                        if (hotelSection) {
                            if (user.hotel) {
                                // æœ‰é…’åº—ä¿¡æ¯æ—¶æ˜¾ç¤ºæ•´ä¸ªåŒºåŸŸ
                                hotelSection.style.display = 'block';
                                if (hotelInfoElement) {
                                    hotelInfoElement.textContent = user.hotel;
                                    hotelInfoElement.classList.remove('hidden');
                                }
                                if (navButton) {
                                    navButton.style.display = 'block';
                                }
                                console.log('âœ… æ˜¾ç¤ºé…’åº—ä¿¡æ¯åŒºåŸŸ:', user.hotel);
                            } else {
                                // æ— é…’åº—ä¿¡æ¯æ—¶éšè—æ•´ä¸ªåŒºåŸŸ
                                hotelSection.style.display = 'none';
                                console.log('âŒ éšè—é…’åº—ä¿¡æ¯åŒºåŸŸï¼ˆæ— é…’åº—æ•°æ®ï¼‰');
                            }
                        } else {
                            console.log('âŒ æœªæ‰¾åˆ°é…’åº—ä¿¡æ¯åŒºåŸŸ');
                        }
                    } else {
                        console.log('âŒ æœªæ‰¾åˆ°ç”¨æˆ·ä¿¡æ¯');
                    }
                } else {
                    console.log('âŒ æœªæ‰¾åˆ°ç¼“å­˜çš„ç”¨æˆ·å');
                }
                
                // Scroll to top of page again after content is loaded to ensure it's at the top
                setTimeout(() => {
                    window.scrollTo(0, 0);
                    document.documentElement.scrollTop = 0;
                    document.body.scrollTop = 0;
                    const mainContainer = document.querySelector('#seat-food-hotel-page main');
                    if (mainContainer) {
                        mainContainer.scrollTop = 0;
                    }
                    console.log('ğŸ”„ å»¶è¿Ÿæ»šåŠ¨åˆ°é¡¶éƒ¨ï¼Œç¡®ä¿å†…å®¹åŠ è½½åé¡µé¢ä½ç½®æ­£ç¡®');
                }, 100);
            }
            
            // Reset carousel to first slide when entering meeting schedule page
            if (pageId === 'meeting-schedule-page') {
                console.log('ğŸ”„ é‡æ–°è¿›å…¥ä¼šè®®æ—¥ç¨‹é¡µé¢ï¼Œé‡ç½®è½®æ’­å›¾åˆ°ç¬¬ä¸€å¼ ');
                
                // Scroll to top of page
                console.log('ğŸ“± æ»šåŠ¨é¡µé¢åˆ°é¡¶éƒ¨');
                // Get the main container of the page
                const mainContainer = document.querySelector('#meeting-schedule-page main');
                if (mainContainer) {
                    mainContainer.scrollTop = 0;
                    console.log('âœ… é¡µé¢ä¸»å®¹å™¨å·²æ»šåŠ¨åˆ°é¡¶éƒ¨');
                }
                // Also scroll window to top for safety
                window.scrollTo(0, 0);
                // For older browsers
                document.documentElement.scrollTop = 0;
                document.body.scrollTop = 0;
                // Reset current slide index
                currentSlide = 0;
                
                // Get elements if not already initialized
                if (!slidesContainer) {
                    slidesContainer = document.getElementById('simple-carousel-slides');
                    dotsContainer = document.getElementById('simple-carousel-dots');
                    dots = dotsContainer.querySelectorAll('button');
                    images = slidesContainer.querySelectorAll('img');
                }
                
                // Update slide position to first slide
                if (slidesContainer) {
                    slidesContainer.style.transform = 'translateX(0%)';
                }
                
                // Update dots to show first slide as active
                if (dots) {
                    dots.forEach((dot, i) => {
                        if (i === 0) {
                            dot.classList.remove('bg-gray-300');
                            dot.classList.add('bg-blue-500');
                        } else {
                            dot.classList.remove('bg-blue-500');
                            dot.classList.add('bg-gray-300');
                        }
            
                }
                
                // Set carousel height based on first image
                if (images && images.length > 0 && slidesContainer) {
                    const firstImage = images[0];
                    const simpleCarousel = document.getElementById('simple-carousel');
                    
                    // Force reflow to ensure correct dimensions
                    simpleCarousel.style.height = 'auto';
                    simpleCarousel.offsetHeight; // Trigger reflow
                    
                    console.log('ğŸ“ é‡æ–°è¿›å…¥ä¼šè®®æ—¥ç¨‹é¡µé¢ï¼Œå‡†å¤‡è®¾ç½®è½®æ’­å›¾é«˜åº¦');
                    console.log('ğŸ“Š å›¾ç‰‡çŠ¶æ€æ£€æŸ¥:');
                    console.log('- å›¾ç‰‡æ˜¯å¦å®ŒæˆåŠ è½½:', firstImage.complete);
                    console.log('- å½“å‰å›¾ç‰‡é«˜åº¦:', firstImage.offsetHeight, 'px');
                    console.log('- å›¾ç‰‡è‡ªç„¶é«˜åº¦:', firstImage.naturalHeight, 'px');
                    
                    // Check if image is loaded and has valid dimensions
                    if (firstImage.complete && firstImage.offsetHeight > 0) {
                        simpleCarousel.style.height = `${firstImage.offsetHeight}px`;
                        console.log('ğŸ¯ é‡ç½®åˆ°ç¬¬ä¸€å¼ å¹»ç¯ç‰‡ï¼Œé«˜åº¦è®¾ç½®ä¸º:', firstImage.offsetHeight, 'px');
                    } else {
                        // Set a temporary height to ensure visibility
                        simpleCarousel.style.height = '400px';
                        console.log('â³ è®¾ç½®ä¸´æ—¶é«˜åº¦ 400pxï¼Œç­‰å¾…å›¾ç‰‡åŠ è½½...');
                        
                        // Wait for image to load before setting actual height
                        firstImage.addEventListener('load', function onImageLoad() {
                            console.log('âœ… å›¾ç‰‡åŠ è½½å®Œæˆï¼Œå®é™…é«˜åº¦:', firstImage.offsetHeight, 'px');
                            simpleCarousel.style.height = `${firstImage.offsetHeight}px`;
                            // Remove event listener to prevent multiple calls
                            firstImage.removeEventListener('load', onImageLoad);
                
                    }
                }
            }
        }

        // é¡µé¢åŠ è½½å®Œæˆåç«‹å³æ‰§è¡Œ
        (function() {
            console.log("é¡µé¢åˆå§‹åŒ–...");
            
            // åˆå§‹åŒ–LeanCloud
            const LEANCLOUD_CONFIG = {
                appId: 'LvwXAtkZBt8RI7UN8Jm7R5BL-gzGzoHsz',
                appKey: 'zAMmBWOV5pnmH3KRsCvrRfJL',
                masterKey: '9MN1GZLc3bAyGTstfB0X1RaJ',
                serverURL: 'https://lvwxatkz.lc-cn-n1-shared.com'
            };
            
            console.log("âœ… é¡µé¢åˆå§‹åŒ–å®Œæˆ");

            
            // æ¸…é™¤ä¹‹å‰çš„ç¼“å­˜
            localStorage.removeItem('cachedUserName');
            localStorage.removeItem('currentUser');
            
            // åˆå§‹åŒ–æµ‹è¯•ç”¨æˆ·æ•°æ®åˆ°æœ¬åœ°ç¼“å­˜
            const testUsers = [
                {
                    name: 'æµ‹è¯•',
                    phone: '13800138000',
                    hotel: 'é…’åº—A',
                    seatNumber: 'AåŒº 01',
                    mealNumber: 'ç¬¬ 1 æ¡Œ'
                },
                {
                    name: 'å¼ ä¸‰',
                    phone: '13900139000',
                    hotel: 'é…’åº—B',
                    seatNumber: 'BåŒº 02',
                    mealNumber: 'ç¬¬ 2 æ¡Œ'
                },
                {
                    name: 'æå››',
                    phone: '13700137000',
                    hotel: 'é…’åº—A',
                    seatNumber: 'CåŒº 03',
                    mealNumber: 'ç¬¬ 3 æ¡Œ'
                }
            ];
            
            try {
                localStorage.setItem('conferenceUsers', JSON.stringify(testUsers));
                console.log('âœ… æµ‹è¯•ç”¨æˆ·æ•°æ®å·²åˆå§‹åŒ–åˆ°æœ¬åœ°ç¼“å­˜');
            } catch (error) {
                console.error('âŒ åˆå§‹åŒ–æµ‹è¯•ç”¨æˆ·æ•°æ®å¤±è´¥:', error);
            }
            
            // æ¸…ç©ºè¾“å…¥æ¡†
            document.getElementById('name-input').value = '';
            
            console.log("åˆå§‹åŒ–å®Œæˆï¼");
        })();

        // ä»æœ¬åœ°ç¼“å­˜è·å–ç”¨æˆ·ä¿¡æ¯
        function getUserFromLocalCache(name) {
            console.log('ä»æœ¬åœ°ç¼“å­˜æŸ¥è¯¢ç”¨æˆ·:', name);
            try {
                const users = JSON.parse(localStorage.getItem('conferenceUsers') || '[]');
                const user = users.find(u => u.name === name);
                if (user) {
                    console.log('âœ… ä»æœ¬åœ°ç¼“å­˜æ‰¾åˆ°ç”¨æˆ·:', user);
                    return user;
                }
                return null;
            } catch (error) {
                console.error('âŒ æœ¬åœ°ç¼“å­˜æŸ¥è¯¢å¤±è´¥:', error);
                return null;
            }
        }

        // ä»LeanCloudè·å–ç”¨æˆ·ä¿¡æ¯
        async function getUserFromLeanCloud(name) {
            console.log('ä»LeanCloudæŸ¥è¯¢ç”¨æˆ·:', name);
            try {
                const query = new AV.Query('user_list');
                query.equalTo('name', name);
                const users = await query.find();
                console.log('LeanCloudæŸ¥è¯¢ç»“æœ:', users);
                
                if (users.length > 0) {
                    const user = users[0];
                    const userData = {
                        name: user.get('name') || '',
                        phone: user.get('phone') || '',
                        hotel: user.get('hotel') || '',
                        seatNumber: user.get('seatNumber') || '',
                        mealNumber: user.get('mealNumber') || ''
                    };
                    
                    // æ›´æ–°æœ¬åœ°ç¼“å­˜
                    try {
                        const cachedUsers = JSON.parse(localStorage.getItem('conferenceUsers') || '[]');
                        const existingIndex = cachedUsers.findIndex(u => u.name === name);
                        if (existingIndex >= 0) {
                            cachedUsers[existingIndex] = userData;
                        } else {
                            cachedUsers.push(userData);
                        }
                        localStorage.setItem('conferenceUsers', JSON.stringify(cachedUsers));
                        console.log('âœ… å·²æ›´æ–°æœ¬åœ°ç¼“å­˜');
                    } catch (cacheError) {
                        console.error('âŒ æ›´æ–°æœ¬åœ°ç¼“å­˜å¤±è´¥:', cacheError);
                    }
                    
                    return userData;
                }
                return null;
            } catch (error) {
                console.error('âŒ LeanCloudæŸ¥è¯¢å¤±è´¥:', error);
                // ç½‘ç»œé”™è¯¯æ—¶å°è¯•ä»æœ¬åœ°ç¼“å­˜è·å–
                console.log('ğŸ”„ å°è¯•ä»æœ¬åœ°ç¼“å­˜è·å–ç”¨æˆ·ä¿¡æ¯');
                return getUserFromLocalCache(name);
            }
        }

        // ç™»å½•å¤„ç†å‡½æ•°
        async function handleLogin() {
            console.log('ğŸš€ ç™»å½•å‡½æ•°è¢«è°ƒç”¨');
            
            const nameInput = document.getElementById('name-input');
            const errorMessage = document.getElementById('error-message');
            const loginButton = document.getElementById('login-button');
            
            if (!nameInput) {
                console.error('âŒ æœªæ‰¾åˆ°å§“åè¾“å…¥æ¡†');
                return;
            }
            
            if (!errorMessage) {
                console.error('âŒ æœªæ‰¾åˆ°é”™è¯¯æç¤ºå…ƒç´ ');
            }
            
            if (!loginButton) {
                console.error('âŒ æœªæ‰¾åˆ°ç™»å½•æŒ‰é’®å…ƒç´ ');
                return;
            }
            
            console.log('âœ… æ‰€æœ‰å¿…è¦å…ƒç´ éƒ½å·²æ‰¾åˆ°');
            
            const name = nameInput.value.trim();
            console.log('ğŸ“‹ è¾“å…¥çš„å§“å:', name);
            
            // éšè—é”™è¯¯ä¿¡æ¯
            if (errorMessage) {
                errorMessage.classList.add('hidden');
            }
            
            if (!name) {
                console.log('âŒ å§“åä¸ºç©º');
                if (errorMessage) {
                    errorMessage.textContent = 'è¯·è¾“å…¥å§“å';
                    errorMessage.classList.remove('hidden');
                    errorMessage.style.display = 'block';
                }
                return;
            }
            
            try {
                // æ˜¾ç¤ºåŠ è½½çŠ¶æ€
                loginButton.textContent = 'ç™»å½•ä¸­...';
                loginButton.disabled = true;
                
                // å…ˆå°è¯•ä»æœ¬åœ°ç¼“å­˜è·å–
                let user = getUserFromLocalCache(name);
                
                if (!user) {
                    console.log('ğŸ”„ æœ¬åœ°ç¼“å­˜æœªæ‰¾åˆ°ï¼Œå°è¯•ä»äº‘ç«¯è·å–');
                    // ä»LeanCloudè·å–ç”¨æˆ·ä¿¡æ¯
                    user = await getUserFromLeanCloud(name);
                }
                
                if (user) {
                    console.log('âœ… æ‰¾åˆ°ç”¨æˆ·:', user);
                    // ç¼“å­˜ç”¨æˆ·ä¿¡æ¯
                    localStorage.setItem('cachedUserName', name);
                    localStorage.setItem('currentUser', JSON.stringify(user));
                    // è·³è½¬åˆ°ä¼šè®®ä¸­å¿ƒ
                    showPage('conference-center-page');
                } else {
                    console.log('âŒ æœªæ‰¾åˆ°ç”¨æˆ·');
                    if (errorMessage) {
                        // æ˜¾ç¤ºæµ‹è¯•è´¦å·æç¤º
                        errorMessage.innerHTML = `æœªæŸ¥åˆ°å§“åä¿¡æ¯ï¼Œè¯·ä½¿ç”¨ä»¥ä¸‹æµ‹è¯•è´¦å·:<br>
                        æµ‹è¯•/13800138000<br>
                        å¼ ä¸‰/13900139000<br>
                        æå››/13700137000<br>
                        ç‹äº”/13600136000<br>
                        èµµå…­/13500135000`;
                        errorMessage.classList.remove('hidden');
                        errorMessage.style.display = 'block';
                        errorMessage.style.whiteSpace = 'pre-line';
                    }
                }
            } catch (error) {
                console.error('âŒ ç™»å½•å¤±è´¥:', error);
                if (errorMessage) {
                    errorMessage.textContent = 'æŸ¥è¯¢å¤±è´¥ï¼Œè¯·æ£€æŸ¥ç½‘ç»œè¿æ¥åé‡è¯•';
                    errorMessage.classList.remove('hidden');
                    errorMessage.style.display = 'block';
                }
            } finally {
                // æ¢å¤æŒ‰é’®çŠ¶æ€
                loginButton.textContent = 'ç«‹å³ç™»å½• / LOGIN';
                loginButton.disabled = false;
            }
        }
        
        // ç»‘å®šç™»å½•æŒ‰é’®äº‹ä»¶
        function bindLoginButtonEvent() {
            console.log('ğŸ”§ å¼€å§‹ç»‘å®šç™»å½•æŒ‰é’®äº‹ä»¶');
            
            const loginButton = document.getElementById('login-button');
            if (!loginButton) {
                console.error('âŒ æ— æ³•æ‰¾åˆ°ç™»å½•æŒ‰é’®ï¼Œäº‹ä»¶ç»‘å®šå¤±è´¥');
                return;
            }
            
            console.log('âœ… æ‰¾åˆ°ç™»å½•æŒ‰é’®ï¼Œå‡†å¤‡ç»‘å®šç‚¹å‡»äº‹ä»¶');
            
            // ç§»é™¤å¯èƒ½å­˜åœ¨çš„æ—§äº‹ä»¶ç›‘å¬å™¨
            loginButton.removeEventListener('click', handleLogin);
            
            // ç»‘å®šæ–°çš„äº‹ä»¶ç›‘å¬å™¨
            loginButton.addEventListener('click', handleLogin);
            console.log('âœ… ç™»å½•æŒ‰é’®ç‚¹å‡»äº‹ä»¶ç»‘å®šæˆåŠŸ');
            
            // ç«‹å³æµ‹è¯•äº‹ä»¶ç»‘å®šæ˜¯å¦æˆåŠŸ
            console.log('ğŸ§ª æµ‹è¯•ï¼šç™»å½•æŒ‰é’®äº‹ä»¶ç›‘å¬å™¨æ•°é‡:', getEventListeners(loginButton).click?.length || 0);
        }
        
        // åœ¨é¡µé¢åŠ è½½å®Œæˆåç»‘å®šäº‹ä»¶
        document.addEventListener('DOMContentLoaded', function() {
            console.log('ğŸ¯ DOMåŠ è½½å®Œæˆï¼Œå¼€å§‹ç»‘å®šäº‹ä»¶');
            bindLoginButtonEvent();

        
        // ç«‹å³å°è¯•ç»‘å®šï¼ˆä½œä¸ºå¤‡ç”¨æ–¹æ¡ˆï¼‰
        setTimeout(() => {
            console.log('â° å¤‡ç”¨æ–¹æ¡ˆï¼šå°è¯•ç»‘å®šç™»å½•æŒ‰é’®äº‹ä»¶');
            bindLoginButtonEvent();
        }, 100);
        
        // ä¸ºç™»å½•æŒ‰é’®æ·»åŠ ç›´æ¥çš„onclickå±æ€§ä½œä¸ºæœ€åä¿éšœ
        const loginButton = document.getElementById('login-button');
        if (loginButton) {
            loginButton.onclick = handleLogin;
            console.log('ğŸ›¡ï¸ å·²è®¾ç½®onclickå±æ€§ä½œä¸ºå¤‡ç”¨');
        }
        
        console.log('âœ… å…¨å±€ç™»å½•å‡½æ•°å·²æ³¨å†Œ');
        
        // é¡µé¢åŠ è½½å®Œæˆåæ£€æŸ¥è½®æ’­å›¾ä¸­çš„ç”¨æˆ·å
        setTimeout(() => {
            const cachedUserName = localStorage.getItem('cachedUserName');
            if (cachedUserName) {
                console.log('ğŸ¯ é¡µé¢åŠ è½½å®Œæˆï¼Œæ£€æŸ¥è½®æ’­å›¾ç”¨æˆ·åé«˜äº®');
                // å»¶è¿Ÿè°ƒç”¨ä»¥ç¡®ä¿DOMå®Œå…¨åŠ è½½
                setTimeout(() => {
                    if (typeof window.highlightUserInCarousel === 'function') {
                        highlightUserInCarousel();
                    }
                }, 500);
            }
        }, 1000);



        document.getElementById('logout-button').addEventListener('click', () => {
            // Clear cached user name
            localStorage.removeItem('cachedUserName');
            // Clear input field
            document.getElementById('name-input').value = '';
            showPage('login-page');


        document.querySelectorAll('.back-button').forEach(button => {
            button.addEventListener('click', () => {
                showPage('conference-center-page');
    


        // Add specific event listener for the intro card
        document.getElementById('intro-card').addEventListener('click', () => {
            console.log('Intro card clicked');
            showPage('conference-intro-page');


        // Add specific event listener for the live card
        document.getElementById('live-card').addEventListener('click', () => {
            console.log('Live card clicked');
            window.location.href = 'https://example.com/live'; // Replace with your actual live stream URL


        function navigateToHotel() {
            const hotelName = 'æµ·å£å¸‚æ˜Ÿæµ·æ¹¾é“‚å°”æ›¼é…’åº—';
            const wechatMapUrl = `weixin://viewmap/location?q=${encodeURIComponent(hotelName)}`;
            window.location.href = wechatMapUrl;
            setTimeout(() => {
                alert('è¯·ä½¿ç”¨å¾®ä¿¡æ‰“å¼€æ­¤é“¾æ¥ä»¥è·å–å¯¼èˆªã€‚');
            }, 1000);
        }

        document.querySelectorAll('.conference-info').forEach(card => {
            card.addEventListener('click', () => {
                const targetPage = card.dataset.target;
                showPage(targetPage);
    


        // Simple Carousel Logic with Swipe and Logs
        document.addEventListener('DOMContentLoaded', function() {
            console.log('ç®€æ˜“è½®æ’­å›¾è„šæœ¬å·²åˆå§‹åŒ–ã€‚');

            const slidesContainer = document.getElementById('simple-carousel-slides');
            const dots = document.getElementById('simple-carousel-dots').querySelectorAll('button');
            let currentSlide = 0;
            let startX, moveX;
            const threshold = 50; // Minimum swipe distance to trigger slide change

            console.log('è½®æ’­å›¾å…ƒç´ :', document.getElementById('simple-carousel'));
            console.log('å¹»ç¯ç‰‡å®¹å™¨:', slidesContainer);
            console.log('æŒ‡ç¤ºå™¨åœ†ç‚¹æ•°é‡:', dots.length);

            // é«˜äº®åŒ…å«ç”¨æˆ·åçš„è½®æ’­å›¾
            // å°†å‡½æ•°ç»‘å®šåˆ°windowå¯¹è±¡ï¼Œç¡®ä¿å…¨å±€å¯è®¿é—®
            window.highlightUserInCarousel = function highlightUserInCarousel() {
                console.log('ğŸ” å¼€å§‹æ£€æŸ¥è½®æ’­å›¾ä¸­æ˜¯å¦åŒ…å«ç”¨æˆ·å');
                
                // è·å–å½“å‰ç™»å½•ç”¨æˆ·ä¿¡æ¯
                const cachedUserName = localStorage.getItem('cachedUserName');
                if (!cachedUserName) {
                    console.log('â„¹ï¸ æœªæ‰¾åˆ°ç¼“å­˜çš„ç”¨æˆ·åï¼Œè·³è¿‡é«˜äº®');
                    return;
                }
                
                console.log('ğŸ‘¤ å½“å‰ç™»å½•ç”¨æˆ·:', cachedUserName);
                
                // è·å–æ‰€æœ‰è½®æ’­å›¾é¡¹
                const slideItems = slidesContainer.querySelectorAll('.flex-shrink-0');
                slideItems.forEach((item, index) => {
                    const img = item.querySelector('img');
                    if (img && img.alt) {
                        console.log(`ğŸ“Š æ£€æŸ¥è½®æ’­å›¾ ${index} æ ‡é¢˜: "${img.alt}"`);
                        
                        // æ£€æŸ¥å›¾ç‰‡altå±æ€§ä¸­æ˜¯å¦åŒ…å«ç”¨æˆ·å
                        if (img.alt.includes(cachedUserName)) {
                            console.log(`âœ… åœ¨è½®æ’­å›¾ ${index} ä¸­æ‰¾åˆ°ç”¨æˆ·å "${cachedUserName}"`);
                            
                            // æ·»åŠ é«˜äº®æ•ˆæœ
                            item.style.position = 'relative';
                            
                            // åˆ›å»ºé«˜äº®èƒŒæ™¯
                            const highlightBg = document.createElement('div');
                            highlightBg.className = 'absolute inset-0 bg-yellow-300 bg-opacity-50 z-0';
                            highlightBg.style.pointerEvents = 'none'; // ä¸å½±å“ç‚¹å‡»
                            
                            // æ’å…¥åˆ°å›¾ç‰‡ä¸‹æ–¹
                            item.insertBefore(highlightBg, img);
                            
                            // ç¡®ä¿å›¾ç‰‡åœ¨ä¸Šæ–¹
                            img.style.position = 'relative';
                            img.style.zIndex = '1';
                            
                            // æ·»åŠ åŠ¨ç”»æ•ˆæœ
                            highlightBg.style.animation = 'pulse 2s infinite';
                            
                            // é«˜äº®å¯¹åº”çš„æŒ‡ç¤ºå™¨
                            if (dots[index]) {
                                dots[index].classList.add('ring-4', 'ring-yellow-400', 'ring-opacity-75');
                                console.log(`âœ… é«˜äº®æŒ‡ç¤ºå™¨ ${index}`);
                            }
                        }
                    }
                });
            }

            function updateCarousel() {
                console.log('updateCarousel æ–¹æ³•è¢«è°ƒç”¨ã€‚å½“å‰å¹»ç¯ç‰‡:', currentSlide);
                slidesContainer.style.transform = `translateX(-${currentSlide * 100}%)`;
                
                // Update dots
                dots.forEach((dot, index) => {
                    if (index === currentSlide) {
                        dot.classList.remove('bg-gray-300');
                        dot.classList.add('bg-blue-500');
                    } else {
                        dot.classList.remove('bg-blue-500');
                        dot.classList.add('bg-gray-300');
                    }
                });
                
                // æ¯æ¬¡æ›´æ–°è½®æ’­å›¾åæ£€æŸ¥æ˜¯å¦éœ€è¦é«˜äº®
                setTimeout(() => {
                    if (typeof window.highlightUserInCarousel === 'function') {
                        highlightUserInCarousel();
                    } else {
                        console.warn('âš ï¸ highlightUserInCarousel å‡½æ•°æœªå®šä¹‰');
                    }
                }, 100);
            }
                    } else {
                        dot.classList.remove('bg-blue-500');
                        dot.classList.add('bg-gray-300');
                    }
                });
                
                // æ¯æ¬¡æ›´æ–°è½®æ’­å›¾åæ£€æŸ¥æ˜¯å¦éœ€è¦é«˜äº®
                setTimeout(() => {
                    if (typeof window.highlightUserInCarousel === 'function') {
                        highlightUserInCarousel();
                    } else {
                        console.warn('âš ï¸ highlightUserInCarousel å‡½æ•°æœªå®šä¹‰');
                    }
                }, 100);
            }

            // Add click listeners to dots
            console.log('æ­£åœ¨ä¸ºæŒ‡ç¤ºå™¨åœ†ç‚¹æ·»åŠ ç‚¹å‡»äº‹ä»¶ç›‘å¬å™¨ã€‚');
            dots.forEach((dot, index) => {
                dot.addEventListener('click', function() {
                    console.log('æŒ‡ç¤ºå™¨åœ†ç‚¹è¢«ç‚¹å‡»ï¼ç´¢å¼•:', index);
                    currentSlide = index;
                    updateCarousel();
        
    

            // Touch and mouse events for swiping
            const carousel = document.getElementById('simple-carousel');

            // For mouse
            carousel.addEventListener('mousedown', (e) => {
                console.log('é¼ æ ‡æŒ‰ä¸‹äº‹ä»¶ã€‚å®¢æˆ·ç«¯Xåæ ‡:', e.clientX);
                startX = e.clientX;
                carousel.style.cursor = 'grabbing';
    

            carousel.addEventListener('mouseleave', () => {
                console.log('é¼ æ ‡ç¦»å¼€è½®æ’­å›¾åŒºåŸŸã€‚');
                carousel.style.cursor = 'grab';
    

            carousel.addEventListener('mouseup', (e) => {
                console.log('é¼ æ ‡æ¾å¼€äº‹ä»¶ã€‚å®¢æˆ·ç«¯Xåæ ‡:', e.clientX);
                carousel.style.cursor = 'grab';
                moveX = e.clientX;
                const diffX = startX - moveX;
                console.log('æ£€æµ‹åˆ°é¼ æ ‡æ»‘åŠ¨ã€‚èµ·å§‹Xåæ ‡:', startX, 'ç»“æŸXåæ ‡:', moveX, 'å·®å€¼X:', diffX);
                if (Math.abs(diffX) > threshold) {
                    if (diffX > 0 && currentSlide < dots.length - 1) {
                        console.log('å‘å·¦æ»‘åŠ¨åˆ°ä¸‹ä¸€å¼ å¹»ç¯ç‰‡ã€‚å½“å‰å¹»ç¯ç‰‡:', currentSlide, 'ä¸‹ä¸€å¼ å¹»ç¯ç‰‡:', currentSlide + 1);
                        currentSlide++;
                    } else if (diffX < 0 && currentSlide > 0) {
                        console.log('å‘å³æ»‘åŠ¨åˆ°ä¸Šä¸€å¼ å¹»ç¯ç‰‡ã€‚å½“å‰å¹»ç¯ç‰‡:', currentSlide, 'ä¸Šä¸€å¼ å¹»ç¯ç‰‡:', currentSlide - 1);
                        currentSlide--;
                    } else {
                        console.log('æ£€æµ‹åˆ°æ»‘åŠ¨ä½†æœªåˆ‡æ¢å¹»ç¯ç‰‡ã€‚æ–¹å‘:', diffX > 0 ? 'å·¦' : 'å³', 'å½“å‰å¹»ç¯ç‰‡:', currentSlide);
                    }
                    updateCarousel();
                } else {
                    console.log('æ»‘åŠ¨è·ç¦»ä½äºé˜ˆå€¼ã€‚é˜ˆå€¼:', threshold, 'å®é™…è·ç¦»:', Math.abs(diffX));
                }
    

            carousel.addEventListener('mousemove', (e) => {
                if (!startX) return;
                e.preventDefault(); // Prevent text selection
    

            // For touch
            carousel.addEventListener('touchstart', (e) => {
                console.log('è§¦æ‘¸å¼€å§‹äº‹ä»¶ã€‚è§¦æ‘¸Xåæ ‡:', e.touches[0].clientX);
                startX = e.touches[0].clientX;
    

            carousel.addEventListener('touchend', (e) => {
                console.log('è§¦æ‘¸ç»“æŸäº‹ä»¶ã€‚è§¦æ‘¸Xåæ ‡:', e.changedTouches[0].clientX);
                moveX = e.changedTouches[0].clientX;
                const diffX = startX - moveX;
                console.log('æ£€æµ‹åˆ°è§¦æ‘¸æ»‘åŠ¨ã€‚èµ·å§‹Xåæ ‡:', startX, 'ç»“æŸXåæ ‡:', moveX, 'å·®å€¼X:', diffX);
                if (Math.abs(diffX) > threshold) {
                    if (diffX > 0 && currentSlide < dots.length - 1) {
                        console.log('è§¦æ‘¸å‘å·¦æ»‘åŠ¨åˆ°ä¸‹ä¸€å¼ å¹»ç¯ç‰‡ã€‚å½“å‰å¹»ç¯ç‰‡:', currentSlide, 'ä¸‹ä¸€å¼ å¹»ç¯ç‰‡:', currentSlide + 1);
                        currentSlide++;
                    } else if (diffX < 0 && currentSlide > 0) {
                        console.log('è§¦æ‘¸å‘å³æ»‘åŠ¨åˆ°ä¸Šä¸€å¼ å¹»ç¯ç‰‡ã€‚å½“å‰å¹»ç¯ç‰‡:', currentSlide, 'ä¸Šä¸€å¼ å¹»ç¯ç‰‡:', currentSlide - 1);
                        currentSlide--;
                    }
                    updateCarousel();
                }
    

            console.log('ç®€æ˜“è½®æ’­å›¾å·²å®Œå…¨åˆå§‹åŒ–ï¼Œæ”¯æŒæ»‘åŠ¨å’Œæ—¥å¿—è¾“å‡ºã€‚');


    </script>


</body></html>